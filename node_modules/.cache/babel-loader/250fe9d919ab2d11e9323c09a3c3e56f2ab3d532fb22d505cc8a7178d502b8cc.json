{"ast":null,"code":"import { slicedToArray as o, defineProperty as t } from \"../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { jsx as e, jsxs as i } from \"react/jsx-runtime\";\nimport r, { useMemo as a, useCallback as l, cloneElement as n } from \"react\";\nimport s from \"react-dom\";\nimport d from \"classnames\";\nimport { useA11yDialog as c } from \"./a11yDialog.js\";\nimport m from \"./ModalContent/ModalContent.js\";\nimport u from \"./ModalHeader/ModalHeader.js\";\nimport f from \"./useBodyScrollLock.js\";\nimport p from \"./useShowHideModal.js\";\nimport { ModalWidth as v, validateTitleProp as g, isModalHeader as j, isModalContent as y, isModalFooter as L } from \"./ModalHelper.js\";\nimport { NOOP as h } from \"../../utils/function-utils.js\";\nimport { withStaticProps as D } from \"../../types/withStaticProps.js\";\nimport { getTestId as M } from \"../../tests/testIds.js\";\nimport { ComponentDefaultTestId as A } from \"../../tests/constants.js\";\nimport b from \"./Modal.module.scss.js\";\nvar w = D(function (D) {\n  var w = D.classNames,\n    C = void 0 === w ? {\n      container: \"\",\n      overlay: \"\",\n      modal: \"\"\n    } : w,\n    H = D.id,\n    E = D.show,\n    T = D.title,\n    F = void 0 === T ? \"\" : T,\n    O = D.description,\n    P = void 0 === O ? \"\" : O,\n    U = D.onClose,\n    _ = void 0 === U ? h : U,\n    x = D.alertDialog,\n    B = void 0 !== x && x,\n    I = D.children,\n    N = D.triggerElement,\n    S = D.width,\n    k = void 0 === S ? v.DEFAULT : S,\n    z = D.closeButtonAriaLabel,\n    W = void 0 === z ? \"Close\" : z,\n    R = D.contentSpacing,\n    V = void 0 !== R && R,\n    Y = D.zIndex,\n    q = void 0 === Y ? 1e4 : Y,\n    G = D[\"data-testid\"],\n    J = a(function () {\n      return I ? r.Children.toArray(I) : [];\n    }, [I]);\n  g(F, J);\n  var K = c({\n      id: H,\n      alertDialog: B\n    }),\n    Q = o(K, 2),\n    X = Q[0],\n    Z = Q[1],\n    $ = l(function () {\n      B || null == _ || _();\n    }, [B, _]);\n  f({\n    instance: X\n  }), p({\n    instance: X,\n    show: E,\n    triggerElement: N,\n    onClose: _,\n    alertDialog: B\n  });\n  var oo = a(function () {\n      var o = Z.title.id,\n        t = J.find(j);\n      return t ? n(t, {\n        id: o,\n        closeModal: _\n      }) : e(u, {\n        title: F,\n        description: P,\n        closeModal: _,\n        id: o,\n        closeButtonAriaLabel: W\n      });\n    }, [Z.title, J, F, P, _, W]),\n    to = a(function () {\n      return J.find(y) || e(m, {\n        children: J.filter(function (o) {\n          return !j(o) && !L(o);\n        })\n      });\n    }, [J]),\n    eo = a(function () {\n      return J.find(L) || null;\n    }, [J]),\n    io = k !== v.DEFAULT && k !== v.FULL_WIDTH,\n    ro = s.createPortal(i(\"div\", Object.assign({}, Z.container, {\n      className: d(b.container, C.container),\n      \"data-testid\": G || M(A.MODAL, H),\n      style: {\n        \"--monday-modal-z-index\": q\n      }\n    }, {\n      children: [e(\"div\", {\n        onClick: $,\n        className: d(b.overlay, C.overlay),\n        \"data-testid\": A.MODAL_OVERLAY\n      }), i(\"div\", Object.assign({}, Z.dialog, {\n        className: d(b.dialog, C.modal, t(t(t({}, b.default, k === v.DEFAULT), b.full, k === v.FULL_WIDTH), b.spacing, V)),\n        style: {\n          width: io ? k : null\n        }\n      }, {\n        children: [oo, to, eo]\n      }))]\n    })), document.body);\n  return s.createPortal(ro, document.body);\n}, {\n  width: v\n});\nexport { w as default };","map":{"version":3,"names":["w","D","classNames","C","container","overlay","modal","H","id","E","show","T","title","F","O","description","P","U","onClose","_","h","x","alertDialog","B","I","children","N","triggerElement","S","width","k","v","DEFAULT","z","closeButtonAriaLabel","W","R","contentSpacing","V","Y","zIndex","q","G","J","a","r","Children","toArray","g","K","c","Q","o","X","Z","$","l","f","instance","p","oo","t","find","j","n","closeModal","e","u","to","y","m","filter","L","eo","io","FULL_WIDTH","ro","s","createPortal","i","Object","assign","className","d","b","M","A","MODAL","style","onClick","MODAL_OVERLAY","dialog","default","full","spacing","document","body"],"sources":["/Users/huynhmannguyen/Documents/GitHub/Huy_app/node_modules/monday-ui-react-core/src/components/Modal/Modal.tsx"],"sourcesContent":["import React, { cloneElement, FC, ReactElement, useCallback, useMemo } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport cx from \"classnames\";\nimport { useA11yDialog } from \"./a11yDialog\";\nimport ModalContent from \"./ModalContent/ModalContent\";\nimport ModalHeader from \"./ModalHeader/ModalHeader\";\nimport useBodyScrollLock from \"./useBodyScrollLock\";\nimport useShowHideModal from \"./useShowHideModal\";\nimport { isModalContent, isModalFooter, isModalHeader, ModalWidth, validateTitleProp } from \"./ModalHelper\";\nimport { NOOP } from \"../../utils/function-utils\";\nimport { withStaticProps } from \"../../types\";\nimport { getTestId } from \"../../tests/test-ids-utils\";\nimport { ComponentDefaultTestId } from \"../../tests/constants\";\nimport styles from \"./Modal.module.scss\";\n\ninterface ModalProps {\n  /**\n   * Id of the modal, used internally and for accessibility\n   */\n  id?: string;\n  \"data-testid\": string;\n  /**\n   * Show/hide the Dialog\n   */\n  show: boolean;\n  /**\n   * Heading for the modal, mandatory when ModalHeader isn't provided in children\n   */\n  title?: string;\n  /**\n   * Description for the modal title\n   */\n  description?: string;\n  /**\n   * Called when the modal is closed (by close button/click outside/esc key)\n   */\n  onClose: () => void;\n  /**\n   *  Makes the dialog behave like a modal (preventing closing on click outside of\n   *  ESC key)..\n   */\n  alertDialog?: boolean;\n  /**\n   *  Used for the fromOrigin animation\n   */\n  triggerElement?: Element;\n  /**\n   *  Set the modal's width. Can be one of the presets or any custom size\n   */\n  width?: typeof ModalWidth | string;\n  /**\n   *  Hide the modal close button\n   */\n  hideCloseButton?: boolean;\n  /**\n   *  Aria label for the close button\n   */\n  closeButtonAriaLabel?: string;\n  /**\n   *  Add gaps between parts of the modal\n   */\n  contentSpacing?: boolean;\n  /**\n   *  classNames for specific parts of the dialog\n   */\n  classNames?: {\n    container?: string;\n    overlay?: string;\n    modal?: string;\n  };\n  /**\n   *  Dialog content\n   */\n  children?: ReactElement | ReactElement[];\n  /**\n   * z-index attribute of the container\n   */\n  zIndex?: number;\n}\n\nconst Modal: FC<ModalProps> & { width?: typeof ModalWidth } = ({\n  classNames = { container: \"\", overlay: \"\", modal: \"\" },\n  id,\n  show,\n  title = \"\",\n  description = \"\",\n  onClose = NOOP,\n  alertDialog = false,\n  children,\n  triggerElement,\n  width = ModalWidth.DEFAULT,\n  // TODO remove hideCloseButton on the next breaking changes\n  // eslint-disable-next-line\n  hideCloseButton = false,\n  closeButtonAriaLabel = \"Close\",\n  contentSpacing = false,\n  zIndex = 10000,\n  \"data-testid\": dataTestId\n}) => {\n  const childrenArray: ReactElement[] = useMemo(\n    () => (children ? (React.Children.toArray(children) as ReactElement[]) : []),\n    [children]\n  );\n  validateTitleProp(title, childrenArray);\n\n  const [instance, attr] = useA11yDialog({\n    id,\n    alertDialog\n  });\n\n  const closeIfNotAlertType = useCallback(() => {\n    if (!alertDialog) {\n      onClose?.();\n    }\n  }, [alertDialog, onClose]);\n\n  // lock body scroll when modal is open\n  useBodyScrollLock({ instance });\n\n  // show/hide and animate the modal\n  useShowHideModal({\n    instance,\n    show,\n    triggerElement,\n    onClose,\n    alertDialog\n  });\n\n  const header = useMemo(() => {\n    const { id } = attr.title;\n    const header = childrenArray.find(isModalHeader);\n    if (header) {\n      return cloneElement(header, { id, closeModal: onClose });\n    }\n    return (\n      <ModalHeader\n        title={title}\n        description={description}\n        closeModal={onClose}\n        id={id}\n        closeButtonAriaLabel={closeButtonAriaLabel}\n      />\n    );\n  }, [attr.title, childrenArray, title, description, onClose, closeButtonAriaLabel]);\n\n  const content = useMemo(() => {\n    return (\n      childrenArray.find(isModalContent) || (\n        <ModalContent>{childrenArray.filter(child => !isModalHeader(child) && !isModalFooter(child))}</ModalContent>\n      )\n    );\n  }, [childrenArray]);\n\n  const footer = useMemo(() => {\n    return childrenArray.find(isModalFooter) || null;\n  }, [childrenArray]);\n\n  const customWidth = width !== ModalWidth.DEFAULT && width !== ModalWidth.FULL_WIDTH;\n\n  const dialog = ReactDOM.createPortal(\n    <div\n      {...attr.container}\n      className={cx(styles.container, classNames.container)}\n      data-testid={dataTestId || getTestId(ComponentDefaultTestId.MODAL, id)}\n      style={{ \"--monday-modal-z-index\": zIndex }}\n    >\n      {/* eslint-disable-next-line jsx-a11y/click-events-have-key-events */}\n      <div\n        onClick={closeIfNotAlertType}\n        className={cx(styles.overlay, classNames.overlay)}\n        data-testid={ComponentDefaultTestId.MODAL_OVERLAY}\n      />\n      <div\n        {...attr.dialog}\n        className={cx(styles.dialog, classNames.modal, {\n          [styles.default]: width === ModalWidth.DEFAULT,\n          [styles.full]: width === ModalWidth.FULL_WIDTH,\n          [styles.spacing]: contentSpacing\n        })}\n        style={{ width: customWidth ? width : null }}\n      >\n        {header}\n        {content}\n        {footer}\n      </div>\n    </div>,\n    document.body\n  );\n\n  return ReactDOM.createPortal(dialog, document.body);\n};\n\nexport default withStaticProps(Modal, {\n  width: ModalWidth\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}