{"ast":null,"code":"import { slicedToArray as e } from \"../../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { jsx as t } from \"react/jsx-runtime\";\nimport r from \"classnames\";\nimport { camelCase as s } from \"lodash-es\";\nimport i, { forwardRef as o, useRef as a, useState as n, useEffect as l, useMemo as m, useCallback as d } from \"react\";\nimport c from \"../../../hooks/useGridKeyboardNavigation/useGridKeyboardNavigation.js\";\nimport u from \"../../../hooks/useMergeRef.js\";\nimport p from \"../../../hooks/usePrevious/index.js\";\nimport { NOOP as f } from \"../../../utils/function-utils.js\";\nimport { getTestId as b, ComponentDefaultTestId as v } from \"../../../tests/testIds.js\";\nimport { getStyle as h } from \"../../../helpers/typesciptCssModulesHelper.js\";\nimport I from \"./TabList.module.scss.js\";\nvar j = o(function (o, j) {\n  var g = o.className,\n    C = o.id,\n    T = o.onTabChange,\n    N = void 0 === T ? f : T,\n    x = o.activeTabId,\n    y = void 0 === x ? 0 : x,\n    L = o.tabType,\n    k = void 0 === L ? \"Compact\" : L,\n    A = o.size,\n    O = o.children,\n    B = o[\"data-testid\"],\n    S = a(null),\n    _ = u(j, S),\n    E = n(y),\n    G = e(E, 2),\n    H = G[0],\n    K = G[1],\n    M = p(y);\n  l(function () {\n    y !== M && y !== H && K(y);\n  }, [y, M, H, K]);\n  var P = m(function () {\n      var e = new Set();\n      return i.Children.forEach(O, function (t, r) {\n        t.props.disabled && e.add(r);\n      }), e;\n    }, [O]),\n    W = d(function (e) {\n      P.has(e) || (K(e), N && N(e));\n    }, [N, P]),\n    w = d(function (e, t) {\n      var r,\n        s = null === (r = O[t].props) || void 0 === r ? void 0 : r.onClick;\n      P.has(t) || (s && s(t), W(t));\n    }, [O, P, W]),\n    z = d(function (e) {\n      return O[e];\n    }, [O]),\n    R = m(function () {\n      return Array.from(P);\n    }, [P]),\n    q = a(),\n    D = c({\n      ref: q,\n      numberOfItemsInLine: null == O ? void 0 : O.length,\n      itemsCount: null == O ? void 0 : O.length,\n      getItemByIndex: z,\n      onItemClicked: w,\n      disabledIndexes: R\n    }),\n    F = D.activeIndex,\n    J = D.onSelectionAction,\n    Q = m(function () {\n      return i.Children.map(O, function (e, t) {\n        return i.cloneElement(e, {\n          value: t,\n          active: H === t,\n          focus: F === t,\n          onClick: J,\n          className: r(I.tabListTabWrapper, e.props.className),\n          tabInnerClassName: r(I.tabListTabInner, e.props.tabInnerClassName)\n        });\n      });\n    }, [O, H, F, J]);\n  return t(\"div\", Object.assign({\n    ref: _,\n    className: r(I.tabsWrapper, g, [h(I, s(k))]),\n    id: C,\n    \"data-testid\": B || b(v.TAB_LIST, C)\n  }, {\n    children: t(\"ul\", Object.assign({\n      ref: q,\n      tabIndex: 0,\n      className: r(I.tabsList, [h(I, A)]),\n      role: \"tablist\"\n    }, {\n      children: Q\n    }))\n  }));\n});\nObject.assign(j, {\n  isTabList: !0\n});\nvar g = j;\nexport { g as default };","map":{"version":3,"names":["j","o","g","className","C","id","T","onTabChange","N","f","x","activeTabId","y","L","tabType","k","A","size","O","children","B","S","a","_","u","E","n","G","e","H","K","M","p","l","P","m","Set","i","Children","forEach","t","r","props","disabled","add","W","d","has","w","s","onClick","z","R","Array","from","q","D","c","ref","numberOfItemsInLine","length","itemsCount","getItemByIndex","onItemClicked","disabledIndexes","F","activeIndex","J","onSelectionAction","Q","map","cloneElement","value","active","focus","I","tabListTabWrapper","tabInnerClassName","tabListTabInner","Object","assign","tabsWrapper","h","b","v","TAB_LIST","tabIndex","tabsList","role","isTabList","default"],"sources":["/Users/huynhmannguyen/Documents/GitHub/Huy_app/node_modules/monday-ui-react-core/src/components/Tabs/TabList/TabList.tsx"],"sourcesContent":["import cx from \"classnames\";\nimport { camelCase } from \"lodash-es\";\nimport React, { FC, forwardRef, ReactElement, useCallback, useEffect, useMemo, useRef, useState } from \"react\";\nimport useGridKeyboardNavigation from \"../../../hooks/useGridKeyboardNavigation/useGridKeyboardNavigation\";\nimport useMergeRef from \"../../../hooks/useMergeRef\";\nimport usePrevious from \"../../../hooks/usePrevious\";\nimport VibeComponentProps from \"../../../types/VibeComponentProps\";\nimport { NOOP } from \"../../../utils/function-utils\";\nimport { TabProps } from \"../Tab/Tab\";\nimport { ComponentDefaultTestId, getTestId } from \"../../../tests/test-ids-utils\";\nimport { getStyle } from \"../../../helpers/typesciptCssModulesHelper\";\nimport styles from \"./TabList.module.scss\";\n\nexport interface TabListProps extends VibeComponentProps {\n  onTabChange?: (tabId: number) => void;\n  activeTabId?: number;\n  tabType?: string;\n  size?: string;\n  children?: ReactElement<TabProps>[];\n}\n\nconst TabList: FC<TabListProps> = forwardRef(\n  (\n    {\n      className,\n      id,\n      onTabChange = NOOP,\n      activeTabId = 0,\n      tabType = \"Compact\",\n      size,\n      children,\n      \"data-testid\": dataTestId\n    },\n    ref\n  ) => {\n    const componentRef = useRef(null);\n    const mergedRef = useMergeRef(ref, componentRef);\n\n    const [activeTabState, setActiveTabState] = useState<number>(activeTabId);\n\n    const prevActiveTabIdProp = usePrevious(activeTabId);\n\n    useEffect(() => {\n      // Update active tab if changed from props\n      if (activeTabId !== prevActiveTabIdProp && activeTabId !== activeTabState) {\n        setActiveTabState(activeTabId);\n      }\n    }, [activeTabId, prevActiveTabIdProp, activeTabState, setActiveTabState]);\n\n    const disabledTabIds = useMemo(() => {\n      const disabledIds = new Set<number>();\n      React.Children.forEach(children, (child, index) => {\n        if (child.props.disabled) {\n          disabledIds.add(index);\n        }\n      });\n      return disabledIds;\n    }, [children]);\n\n    const onTabSelect = useCallback(\n      (tabId: number) => {\n        if (disabledTabIds.has(tabId)) return;\n        setActiveTabState(tabId);\n        onTabChange && onTabChange(tabId);\n      },\n      [onTabChange, disabledTabIds]\n    );\n\n    const onTabClick = useCallback(\n      (value: HTMLElement | void, tabId: number) => {\n        const tabCallbackFunc = children[tabId].props?.onClick;\n        if (disabledTabIds.has(tabId)) return;\n        if (tabCallbackFunc) tabCallbackFunc(tabId);\n        onTabSelect(tabId);\n      },\n      [children, disabledTabIds, onTabSelect]\n    );\n\n    const getItemByIndex = useCallback((index: number): ReactElement<TabProps> => children[index], [children]);\n    const disabledIndexes = useMemo(() => Array.from(disabledTabIds), [disabledTabIds]);\n    const ulRef = useRef();\n    const { activeIndex: focusIndex, onSelectionAction } = useGridKeyboardNavigation({\n      ref: ulRef,\n      numberOfItemsInLine: children?.length,\n      itemsCount: children?.length,\n      getItemByIndex,\n      onItemClicked: onTabClick,\n      disabledIndexes\n    });\n\n    const tabsToRender = useMemo(() => {\n      const childrenToRender = React.Children.map(children, (child, index) => {\n        return React.cloneElement(child, {\n          value: index,\n          active: activeTabState === index,\n          focus: focusIndex === index,\n          onClick: onSelectionAction,\n          className: cx(styles.tabListTabWrapper, child.props.className),\n          tabInnerClassName: cx(styles.tabListTabInner, child.props.tabInnerClassName)\n        });\n      });\n      return childrenToRender;\n    }, [children, activeTabState, focusIndex, onSelectionAction]);\n\n    return (\n      <div\n        ref={mergedRef}\n        className={cx(styles.tabsWrapper, className, [getStyle(styles, camelCase(tabType))])}\n        id={id}\n        data-testid={dataTestId || getTestId(ComponentDefaultTestId.TAB_LIST, id)}\n      >\n        <ul ref={ulRef} tabIndex={0} className={cx(styles.tabsList, [getStyle(styles, size)])} role=\"tablist\">\n          {tabsToRender}\n        </ul>\n      </div>\n    );\n  }\n);\n\nObject.assign(TabList, {\n  isTabList: true\n});\n\nexport default TabList;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}