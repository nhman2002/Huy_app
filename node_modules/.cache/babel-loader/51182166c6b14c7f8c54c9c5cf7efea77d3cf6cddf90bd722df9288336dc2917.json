{"ast":null,"code":"import { useCallback as e } from \"react\";\nimport o from \"../../../../hooks/useKeyEvent/index.js\";\nimport { keyCodes as t } from \"../../../../constants/keyCodes.js\";\nvar n = [t.ESCAPE, t.LEFT_ARROW];\nfunction r(r) {\n  var a = r.hasOpenSubMenu,\n    s = r.onCloseMenu,\n    u = r.ref,\n    i = r.onClose,\n    p = r.isSubMenu,\n    f = r.useDocumentEventListeners,\n    E = e(function (e) {\n      var o = e.key === t.LEFT_ARROW;\n      if (!o || p) {\n        if (a) return !1;\n        s({\n          propagate: !1\n        }), i && (i({\n          propagate: !1\n        }, o ? t.LEFT_ARROW : t.ESCAPE), e.preventDefault(), e.stopPropagation());\n      }\n    }, [i, a, s, p]);\n  o({\n    keys: n,\n    callback: E,\n    ref: f ? void 0 : u\n  });\n}\nexport { r as default };","map":{"version":3,"names":["n","t","ESCAPE","LEFT_ARROW","r","a","hasOpenSubMenu","s","onCloseMenu","u","ref","i","onClose","p","isSubMenu","f","useDocumentEventListeners","E","e","o","key","propagate","preventDefault","stopPropagation","keys","callback","default"],"sources":["/Users/huynhmannguyen/Documents/GitHub/Huy_app/node_modules/monday-ui-react-core/src/components/Menu/Menu/hooks/useCloseMenuOnKeyEvent.tsx"],"sourcesContent":["import React, { useCallback } from \"react\";\nimport useKeyEvent from \"../../../../hooks/useKeyEvent\";\nimport { CloseMenuOption } from \"../MenuConstants\";\nimport { keyCodes } from \"../../../../constants\";\n\nconst KEYS = [keyCodes.ESCAPE, keyCodes.LEFT_ARROW];\n\nexport default function useCloseMenuOnKeyEvent({\n  hasOpenSubMenu,\n  onCloseMenu,\n  ref,\n  onClose,\n  isSubMenu,\n  useDocumentEventListeners\n}: {\n  hasOpenSubMenu: boolean;\n  onCloseMenu: (option: CloseMenuOption) => void;\n  ref: React.RefObject<HTMLElement>;\n  onClose: (option: CloseMenuOption, key?: string) => void;\n  isSubMenu: boolean;\n  useDocumentEventListeners: boolean;\n}) {\n  const onEscapeOrLeftArrowKey = useCallback(\n    (event: React.KeyboardEvent) => {\n      const isArrowLeftClick = event.key === keyCodes.LEFT_ARROW;\n\n      if (isArrowLeftClick && !isSubMenu) {\n        return;\n      }\n\n      if (hasOpenSubMenu) return false;\n      onCloseMenu({ propagate: false });\n      if (onClose) {\n        onClose({ propagate: false }, isArrowLeftClick ? keyCodes.LEFT_ARROW : keyCodes.ESCAPE);\n        event.preventDefault();\n        event.stopPropagation();\n      }\n    },\n    [onClose, hasOpenSubMenu, onCloseMenu, isSubMenu]\n  );\n\n  useKeyEvent({\n    keys: KEYS,\n    callback: onEscapeOrLeftArrowKey,\n    ref: useDocumentEventListeners ? undefined : ref\n  });\n}\n"],"mappings":";;;AAKA,IAAMA,CAAA,GAAO,CAACC,CAAA,CAASC,MAAA,EAAQD,CAAA,CAASE,UAAA;AAE1B,SAAUC,EAAsBA,CAAA;EAc7C,IAbCC,CAAA,GAAcD,CAAA,CAAdE,cAAA;IACAC,CAAA,GAAWH,CAAA,CAAXI,WAAA;IACAC,CAAA,GAAGL,CAAA,CAAHM,GAAA;IACAC,CAAA,GAAOP,CAAA,CAAPQ,OAAA;IACAC,CAAA,GAAST,CAAA,CAATU,SAAA;IACAC,CAAA,GAAyBX,CAAA,CAAzBY,yBAAA;IASMC,CAAA,GAAyBC,CAAA,CAC7B,UAACA,CAAA;MACC,IAAMC,CAAA,GAAmBD,CAAA,CAAME,GAAA,KAAQnB,CAAA,CAASE,UAAA;MAEhD,KAAIgB,CAAA,IAAqBN,CAAA,EAAzB;QAIA,IAAIR,CAAA,EAAgB,QAAO;QAC3BE,CAAA,CAAY;UAAEc,SAAA,GAAW;QAAA,IACrBV,CAAA,KACFA,CAAA,CAAQ;UAAEU,SAAA,GAAW;QAAA,GAASF,CAAA,GAAmBlB,CAAA,CAASE,UAAA,GAAaF,CAAA,CAASC,MAAA,GAChFgB,CAAA,CAAMI,cAAA,IACNJ,CAAA,CAAMK,eAAA,GAPP;MAAA;IASF,GACD,CAACZ,CAAA,EAASN,CAAA,EAAgBE,CAAA,EAAaM,CAAA;EAGzCM,CAAA,CAAY;IACVK,IAAA,EAAMxB,CAAA;IACNyB,QAAA,EAAUR,CAAA;IACVP,GAAA,EAAKK,CAAA,QAA4B,IAAYN;EAAA,EAEjD;AAAA;AAAA,SAAAL,CAAA,IAAAsB,OAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}