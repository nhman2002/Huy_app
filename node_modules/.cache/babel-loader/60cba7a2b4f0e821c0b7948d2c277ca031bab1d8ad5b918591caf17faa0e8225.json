{"ast":null,"code":"import { defineProperty as o } from \"../../../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { jsxs as e, Fragment as i, jsx as t } from \"react/jsx-runtime\";\nimport n from \"classnames\";\nimport { useRef as r, useEffect as l, useCallback as s, useMemo as c } from \"react\";\nimport a from \"../../../Icon/Icon.js\";\nimport p from \"../../../Tooltip/Tooltip.js\";\nimport m from \"../../../../hooks/useIsOverflowing/useIsOverflowing.js\";\nimport { keyCodes as f } from \"../../../../constants/keyCodes.js\";\nimport { getOptionId as u } from \"../../helpers.js\";\nimport { withStaticProps as d } from \"../../../../types/withStaticProps.js\";\nimport { ComboboxOptionIconType as v } from \"../ComboboxConstants.js\";\nimport { getTestId as b, ComponentDefaultTestId as O } from \"../../../../tests/testIds.js\";\nimport h from \"./ComboboxOption.module.scss.js\";\nvar j = d(function (d) {\n  var j = d.index,\n    y = d.option,\n    I = d.className,\n    g = d.isActive,\n    T = d.visualFocus,\n    C = d.scrollRef,\n    N = d.scrollOffset,\n    k = void 0 === N ? 100 : N,\n    E = d.onOptionClick,\n    x = d.onOptionLeave,\n    R = d.onOptionHover,\n    S = d.optionLineHeight,\n    w = d.shouldScrollWhenActive,\n    L = void 0 === w || w,\n    P = d.optionRenderer,\n    _ = void 0 === P ? null : P,\n    A = y.id,\n    B = y.leftIcon,\n    F = y.leftIconType,\n    H = y.rightIcon,\n    M = y.rightIconType,\n    z = y.label,\n    D = y.iconSize,\n    K = void 0 === D ? 18 : D,\n    V = y.disabled,\n    W = y.selected,\n    X = y.ariaLabel,\n    q = y.belongToCategory,\n    G = void 0 !== q && q,\n    J = y.tooltipContent,\n    Q = r(null),\n    U = r(),\n    Y = m({\n      ref: U\n    });\n  l(function () {\n    var o,\n      e = Q.current;\n    T && e && L && ((null == C ? void 0 : C.current) && e ? C.current.scrollTop = e.offsetTop - k : null === (o = null == e ? void 0 : e.scrollIntoView) || void 0 === o || o.call(e, {\n      behaviour: \"smooth\"\n    }));\n  }, [Q, T, L, C, k, G]);\n  var Z = function (o, e, i) {\n      return e === v.RENDERER ? o(n(h.optionIcon, i)) : t(a, {\n        className: n(h.optionIcon, i),\n        iconType: a.type.ICON_FONT,\n        clickable: !1,\n        icon: o,\n        iconSize: K,\n        ignoreFocusStyle: !0\n      });\n    },\n    $ = s(function (o) {\n      E(o, j, y, !0);\n    }, [j, y, E]),\n    oo = s(function (o) {\n      V || x(o, j, y, !0);\n    }, [j, y, x, V]),\n    eo = s(function (o) {\n      V || R(o, j, y, !0);\n    }, [j, y, R, V]),\n    io = s(function (o) {\n      o.key !== f.ENTER && o.key !== f.SPACE || E(o, j, y, !1);\n    }, [E, j, y]);\n  J || (J = Y ? z : null);\n  var to = c(function () {\n      return _ && _(y);\n    }, [_, y]),\n    no = e(i, {\n      children: [B && Z(B, F, h.left), t(\"div\", Object.assign({\n        ref: U,\n        className: n(h.optionLabel)\n      }, {\n        children: z\n      })), H && Z(H, M, \"\")]\n    });\n  return t(p, Object.assign({\n    content: J\n  }, {\n    children: t(\"div\", Object.assign({\n      ref: Q,\n      \"aria-level\": G ? 2 : 1,\n      \"aria-selected\": g,\n      \"aria-label\": X || z,\n      id: u(A, j),\n      \"data-testid\": b(O.COMBOBOX_OPTION, j),\n      onMouseEnter: eo,\n      onClick: $,\n      onKeyDown: io,\n      onMouseLeave: oo,\n      className: n(h.comboboxOption, I, o(o(o(o({}, h.disabled, V), h.selected, W), h.active, g), h.activeOutline, T)),\n      style: {\n        height: S\n      }\n    }, {\n      children: to || no\n    }), A || z)\n  }));\n}, {\n  iconTypes: v\n});\nexport { j as default };","map":{"version":3,"names":["j","d","index","y","option","I","className","g","isActive","T","visualFocus","C","scrollRef","N","scrollOffset","k","E","onOptionClick","x","onOptionLeave","R","onOptionHover","S","optionLineHeight","w","shouldScrollWhenActive","L","P","optionRenderer","_","A","id","B","leftIcon","F","leftIconType","H","rightIcon","M","rightIconType","z","label","D","iconSize","K","V","disabled","W","selected","X","ariaLabel","q","belongToCategory","G","J","tooltipContent","Q","r","U","Y","m","ref","l","o","e","current","scrollTop","offsetTop","scrollIntoView","call","behaviour","Z","renderIcon","i","v","RENDERER","n","h","optionIcon","t","a","iconType","type","ICON_FONT","clickable","icon","ignoreFocusStyle","$","s","oo","eo","io","key","f","ENTER","SPACE","to","c","no","children","left","Object","assign","optionLabel","p","content","u","b","O","COMBOBOX_OPTION","onMouseEnter","onClick","onKeyDown","onMouseLeave","comboboxOption","active","activeOutline","style","height","iconTypes","default"],"sources":["/Users/huynhmannguyen/Documents/GitHub/Huy_app/node_modules/monday-ui-react-core/src/components/Combobox/components/ComboboxOption/ComboboxOption.tsx"],"sourcesContent":["import cx from \"classnames\";\nimport React, { RefObject, useCallback, useEffect, useMemo, useRef } from \"react\";\nimport Icon from \"../../../Icon/Icon\";\nimport Tooltip from \"../../../Tooltip/Tooltip\";\nimport useIsOverflowing from \"../../../../hooks/useIsOverflowing/useIsOverflowing\";\nimport { keyCodes } from \"../../../../constants/keyCodes\";\nimport { getOptionId } from \"../../helpers\";\nimport { SubIcon, withStaticProps } from \"../../../../types\";\nimport { ComboboxOptionIconType, IComboboxOption, IComboboxOptionEvents } from \"../ComboboxConstants\";\nimport { ComponentDefaultTestId, getTestId } from \"../../../../tests/test-ids-utils\";\nimport styles from \"./ComboboxOption.module.scss\";\n\ninterface ComboboxOptionProps extends IComboboxOptionEvents {\n  index?: number;\n  option?: IComboboxOption;\n  className?: string;\n  isActive?: boolean;\n  visualFocus?: boolean;\n  scrollRef?: RefObject<HTMLElement>;\n  scrollOffset?: number;\n  optionLineHeight?: number;\n  shouldScrollWhenActive?: boolean;\n  optionRenderer?: (option: IComboboxOption) => JSX.Element;\n}\n\nconst ComboboxOption: React.FC<ComboboxOptionProps> & { iconTypes?: typeof ComboboxOptionIconType } = ({\n  index,\n  option,\n  className,\n  isActive,\n  visualFocus,\n  scrollRef,\n  scrollOffset = 100,\n  onOptionClick,\n  onOptionLeave,\n  onOptionHover,\n  optionLineHeight,\n  shouldScrollWhenActive = true,\n  optionRenderer = null\n}) => {\n  const {\n    id,\n    leftIcon,\n    leftIconType,\n    rightIcon,\n    rightIconType,\n    label,\n    iconSize = 18,\n    disabled,\n    selected,\n    ariaLabel,\n    belongToCategory = false\n  } = option;\n  let { tooltipContent } = option;\n\n  const ref = useRef(null);\n  const labelRef = useRef();\n\n  const isOptionOverflowing = useIsOverflowing({ ref: labelRef });\n\n  useEffect(() => {\n    const element = ref.current;\n    if (visualFocus && element && shouldScrollWhenActive) {\n      if (scrollRef?.current && element) {\n        // not supported with virtualized atm, need their scrollRef (element with overflow-y auto that has the scroll)\n        scrollRef.current.scrollTop = element.offsetTop - scrollOffset;\n      } else {\n        element?.scrollIntoView?.({ behaviour: \"smooth\" });\n      }\n    }\n  }, [ref, visualFocus, shouldScrollWhenActive, scrollRef, scrollOffset, belongToCategory]);\n\n  const renderIcon = (\n    icon: SubIcon | ((className: string) => JSX.Element),\n    iconType: ComboboxOptionIconType,\n    className: string\n  ) => {\n    if (iconType === ComboboxOptionIconType.RENDERER) {\n      return (icon as (className: string) => JSX.Element)(cx(styles.optionIcon, className));\n    }\n\n    return (\n      <Icon\n        className={cx(styles.optionIcon, className)}\n        iconType={Icon.type.ICON_FONT}\n        clickable={false}\n        icon={icon as SubIcon}\n        iconSize={iconSize}\n        ignoreFocusStyle\n      />\n    );\n  };\n\n  const onClick = useCallback(\n    (event: React.MouseEvent) => {\n      onOptionClick(event, index, option, true);\n    },\n    [index, option, onOptionClick]\n  );\n\n  const onMouseLeave = useCallback(\n    (event: React.MouseEvent) => {\n      if (disabled) return;\n      onOptionLeave(event, index, option, true);\n    },\n    [index, option, onOptionLeave, disabled]\n  );\n\n  const onMouseEnter = useCallback(\n    (event: React.MouseEvent) => {\n      if (disabled) return;\n      onOptionHover(event, index, option, true);\n    },\n    [index, option, onOptionHover, disabled]\n  );\n\n  const onKeyDown = useCallback(\n    (event: React.KeyboardEvent) => {\n      if (event.key === keyCodes.ENTER || event.key === keyCodes.SPACE) {\n        onOptionClick(event, index, option, false);\n      }\n    },\n    [onOptionClick, index, option]\n  );\n  if (!tooltipContent) {\n    tooltipContent = isOptionOverflowing ? label : null;\n  }\n\n  const optionRendererValue = useMemo(() => optionRenderer && optionRenderer(option), [optionRenderer, option]);\n\n  const optionValue = (\n    <>\n      {leftIcon && renderIcon(leftIcon, leftIconType, styles.left)}\n      <div ref={labelRef} className={cx(styles.optionLabel)}>\n        {label}\n      </div>\n      {rightIcon && renderIcon(rightIcon, rightIconType, \"\")}\n    </>\n  );\n\n  return (\n    <Tooltip content={tooltipContent}>\n      <div\n        ref={ref}\n        key={id || label}\n        aria-level={belongToCategory ? 2 : 1}\n        aria-selected={isActive}\n        aria-label={ariaLabel || label}\n        id={getOptionId(id, index)}\n        data-testid={getTestId(ComponentDefaultTestId.COMBOBOX_OPTION, index)}\n        onMouseEnter={onMouseEnter}\n        onClick={onClick}\n        onKeyDown={onKeyDown}\n        onMouseLeave={onMouseLeave}\n        className={cx(styles.comboboxOption, className, {\n          [styles.disabled]: disabled,\n          [styles.selected]: selected,\n          [styles.active]: isActive,\n          [styles.activeOutline]: visualFocus\n        })}\n        style={{ height: optionLineHeight }}\n      >\n        {optionRendererValue || optionValue}\n      </div>\n    </Tooltip>\n  );\n};\n\nexport default withStaticProps(ComboboxOption, { iconTypes: ComboboxOptionIconType });\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}