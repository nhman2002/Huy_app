{"ast":null,"code":"import { useCallback as e } from \"react\";\nimport n from \"../../../../hooks/useKeyEvent/index.js\";\nimport { keyCodes as t } from \"../../../../constants/keyCodes.js\";\nvar o = [t.ENTER, t.RIGHT_ARROW];\nfunction i(t) {\n  var i = t.onClick,\n    r = t.disabled,\n    s = t.isActive,\n    u = t.index,\n    a = t.setActiveItemIndex,\n    f = t.hasChildren,\n    c = t.shouldShowSubMenu,\n    l = t.setSubMenuIsOpenByIndex,\n    m = t.menuRef,\n    d = t.isMouseEnter,\n    v = t.closeMenu,\n    p = t.useDocumentEventListeners,\n    I = t.splitMenuItem,\n    M = t.isMouseEnterMenuItem,\n    k = t.isMouseEnterIconButton,\n    E = e(function (e) {\n      if (s || d) if (a && l) {\n        var n = e instanceof KeyboardEvent;\n        if (s && f && (a(u), !I)) l(u, !0);else if (n && I && l(u, !0), !c) {\n          var t = function () {\n            e.preventDefault(), i(e), v({\n              propagate: !0\n            });\n          };\n          if (n && i && !r && s) {\n            if (\"ArrowRight\" === e.key) return;\n            t();\n          }\n          !n && i && !r && d && (s || (a(u), f && l(u, !0)), (I && M && !k || !f) && requestAnimationFrame(function () {\n            requestAnimationFrame(function () {\n              t();\n            });\n          }));\n        }\n      } else console.error(\"MenuItem must be a first level child of a menu\");\n    }, [s, d, a, l, f, I, c, i, r, u, v, M, k]);\n  return n({\n    keys: o,\n    callback: E,\n    ref: p ? void 0 : m\n  }), {\n    onClickCallback: E\n  };\n}\nexport { i as default };","map":{"version":3,"names":["o","t","ENTER","RIGHT_ARROW","i","onClick","r","disabled","s","isActive","u","index","a","setActiveItemIndex","f","hasChildren","c","shouldShowSubMenu","l","setSubMenuIsOpenByIndex","m","menuRef","d","isMouseEnter","v","closeMenu","p","useDocumentEventListeners","I","splitMenuItem","M","isMouseEnterMenuItem","k","isMouseEnterIconButton","E","e","n","KeyboardEvent","clickCallback","preventDefault","propagate","key","requestAnimationFrame","console","error","keys","callback","ref","onClickCallback","default"],"sources":["/Users/huynhmannguyen/Documents/GitHub/Huy_app/node_modules/monday-ui-react-core/src/components/Menu/MenuItem/hooks/useMenuItemKeyboardEvents.ts"],"sourcesContent":["import React, { useCallback } from \"react\";\nimport useKeyEvent from \"../../../../hooks/useKeyEvent\";\nimport { keyCodes } from \"../../../../constants\";\nimport { CloseMenuOption } from \"../../Menu/MenuConstants\";\n\nconst KEYS = [keyCodes.ENTER, keyCodes.RIGHT_ARROW];\n\nexport default function useMenuItemKeyboardEvents({\n  onClick,\n  disabled,\n  isActive,\n  index,\n  setActiveItemIndex,\n  hasChildren,\n  shouldShowSubMenu,\n  setSubMenuIsOpenByIndex,\n  menuRef,\n  isMouseEnter,\n  closeMenu,\n  useDocumentEventListeners,\n  splitMenuItem,\n  isMouseEnterMenuItem,\n  isMouseEnterIconButton\n}: {\n  onClick: (event: React.MouseEvent | React.KeyboardEvent) => void;\n  disabled: boolean;\n  isActive: boolean;\n  index: number;\n  hasChildren: boolean;\n  shouldShowSubMenu: boolean;\n  setSubMenuIsOpenByIndex: (index: number, isOpen: boolean) => void;\n  setActiveItemIndex: (index: number) => void;\n  menuRef: React.RefObject<HTMLElement>;\n  isMouseEnter: boolean;\n  closeMenu: (option: CloseMenuOption) => void;\n  useDocumentEventListeners: boolean;\n  splitMenuItem?: boolean;\n  isMouseEnterMenuItem?: boolean;\n  isMouseEnterIconButton?: boolean;\n}) {\n  const onClickCallback = useCallback(\n    (event: React.MouseEvent | React.KeyboardEvent) => {\n      if (!isActive && !isMouseEnter) return;\n      if (!setActiveItemIndex || !setSubMenuIsOpenByIndex) {\n        console.error(\"MenuItem must be a first level child of a menu\");\n        return;\n      }\n\n      const isKeyEvent = event instanceof KeyboardEvent;\n\n      if (isActive && hasChildren) {\n        setActiveItemIndex(index);\n        if (!splitMenuItem) {\n          setSubMenuIsOpenByIndex(index, true);\n          return;\n        }\n      }\n\n      if (isKeyEvent && splitMenuItem) {\n        setSubMenuIsOpenByIndex(index, true);\n      }\n\n      if (shouldShowSubMenu) return;\n\n      const clickCallback = () => {\n        event.preventDefault();\n        onClick(event);\n        closeMenu({ propagate: true });\n      };\n\n      if (isKeyEvent && onClick && !disabled && isActive) {\n        if ((event as React.KeyboardEvent).key === \"ArrowRight\") {\n          return;\n        }\n        clickCallback();\n      }\n\n      if (!isKeyEvent && onClick && !disabled && isMouseEnter) {\n        if (!isActive) {\n          setActiveItemIndex(index);\n          if (hasChildren) {\n            setSubMenuIsOpenByIndex(index, true);\n          }\n        }\n\n        if ((splitMenuItem && isMouseEnterMenuItem && !isMouseEnterIconButton) || !hasChildren) {\n          // wait for background of menu item to change before trigger click\n          requestAnimationFrame(() => {\n            requestAnimationFrame(() => {\n              clickCallback();\n            });\n          });\n        }\n      }\n    },\n    [\n      isActive,\n      isMouseEnter,\n      setActiveItemIndex,\n      setSubMenuIsOpenByIndex,\n      hasChildren,\n      splitMenuItem,\n      shouldShowSubMenu,\n      onClick,\n      disabled,\n      index,\n      closeMenu,\n      isMouseEnterMenuItem,\n      isMouseEnterIconButton\n    ]\n  );\n\n  useKeyEvent({\n    keys: KEYS,\n    callback: onClickCallback,\n    ref: useDocumentEventListeners ? undefined : menuRef\n  });\n\n  return { onClickCallback };\n}\n"],"mappings":";;;AAKA,IAAMA,CAAA,GAAO,CAACC,CAAA,CAASC,KAAA,EAAOD,CAAA,CAASE,WAAA;AAEf,SAAAC,EAAyBH,CAAA;EAgChD,IA/BCG,CAAA,GAAOH,CAAA,CAAPI,OAAA;IACAC,CAAA,GAAQL,CAAA,CAARM,QAAA;IACAC,CAAA,GAAQP,CAAA,CAARQ,QAAA;IACAC,CAAA,GAAKT,CAAA,CAALU,KAAA;IACAC,CAAA,GAAkBX,CAAA,CAAlBY,kBAAA;IACAC,CAAA,GAAWb,CAAA,CAAXc,WAAA;IACAC,CAAA,GAAiBf,CAAA,CAAjBgB,iBAAA;IACAC,CAAA,GAAuBjB,CAAA,CAAvBkB,uBAAA;IACAC,CAAA,GAAOnB,CAAA,CAAPoB,OAAA;IACAC,CAAA,GAAYrB,CAAA,CAAZsB,YAAA;IACAC,CAAA,GAASvB,CAAA,CAATwB,SAAA;IACAC,CAAA,GAAyBzB,CAAA,CAAzB0B,yBAAA;IACAC,CAAA,GAAa3B,CAAA,CAAb4B,aAAA;IACAC,CAAA,GAAoB7B,CAAA,CAApB8B,oBAAA;IACAC,CAAA,GAAsB/B,CAAA,CAAtBgC,sBAAA;IAkBMC,CAAA,GAAkBC,CAAA,CACtB,UAACA,CAAA;MACC,IAAK3B,CAAA,IAAac,CAAA,EAClB,IAAKV,CAAA,IAAuBM,CAAA,EAA5B;QAKA,IAAMkB,CAAA,GAAaD,CAAA,YAAiBE,aAAA;QAEpC,IAAI7B,CAAA,IAAYM,CAAA,KACdF,CAAA,CAAmBF,CAAA,IACdkB,CAAA,GACHV,CAAA,CAAwBR,CAAA,GAAO,QASnC,IAJI0B,CAAA,IAAcR,CAAA,IAChBV,CAAA,CAAwBR,CAAA,GAAO,KAG7BM,CAAA,EAAJ;UAEA,IAAMf,CAAA,GAAgB,SAAAqC,CAAA;YACpBH,CAAA,CAAMI,cAAA,IACNnC,CAAA,CAAQ+B,CAAA,GACRX,CAAA,CAAU;cAAEgB,SAAA,GAAW;YAAA;UAAA;UAGzB,IAAIJ,CAAA,IAAchC,CAAA,KAAYE,CAAA,IAAYE,CAAA,EAAU;YAClD,IAA2C,iBAAtC2B,CAAA,CAA8BM,GAAA,EACjC;YAEFxC,CAAA,EACD;UAAA;UAAA,CAEImC,CAAA,IAAchC,CAAA,KAAYE,CAAA,IAAYgB,CAAA,KACpCd,CAAA,KACHI,CAAA,CAAmBF,CAAA,GACfI,CAAA,IACFI,CAAA,CAAwBR,CAAA,GAAO,MAI9BkB,CAAA,IAAiBE,CAAA,KAAyBE,CAAA,KAA4BlB,CAAA,KAEzE4B,qBAAA,CAAsB;YACpBA,qBAAA,CAAsB;cACpBzC,CAAA,EACF;YAAA,EACF;UAAA,GA7BmB;QAAA;MAhBtB,OAFC0C,OAAA,CAAQC,KAAA,CAAM,iDAkDlB;IAAA,GACA,CACEpC,CAAA,EACAc,CAAA,EACAV,CAAA,EACAM,CAAA,EACAJ,CAAA,EACAc,CAAA,EACAZ,CAAA,EACAZ,CAAA,EACAE,CAAA,EACAI,CAAA,EACAc,CAAA,EACAM,CAAA,EACAE,CAAA;EAUJ,OANAI,CAAA,CAAY;IACVS,IAAA,EAAM7C,CAAA;IACN8C,QAAA,EAAUZ,CAAA;IACVa,GAAA,EAAKrB,CAAA,QAA4B,IAAYN;EAAA,IAGxC;IAAE4B,eAAA,EAAAd;EAAA,CACX;AAAA;AAAA,SAAA9B,CAAA,IAAA6C,OAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}