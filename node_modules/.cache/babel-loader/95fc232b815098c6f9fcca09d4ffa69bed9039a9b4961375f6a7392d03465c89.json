{"ast":null,"code":"import { slicedToArray as e } from \"../../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { jsxs as t, jsx as r } from \"react/jsx-runtime\";\nimport { useState as a } from \"react\";\nimport i from \"moment\";\nimport { CSSTransition as n } from \"react-transition-group\";\nimport s from \"classnames\";\nimport { YEAR_FORMAT as o } from \"../constants.js\";\nimport c from \"../DateNavigationItem/DateNavigationItem.js\";\nimport { Direction as m } from \"../types.js\";\nimport p from \"./YearPicker.module.scss.js\";\nimport { calcNewYearsPage as l } from \"../date-picker-utils.js\";\nimport d from \"./YearsList.js\";\nvar f = {\n    classNames: \"slide-down\",\n    timeout: {\n      enter: 400,\n      exit: 400\n    }\n  },\n  u = function (u) {\n    var v = u.selectedDate,\n      g = u.isYearBlocked,\n      j = u.changeCurrentDate,\n      k = u[\"data-testid\"],\n      h = v ? v.format(o) : i().format(o),\n      N = a(l(parseInt(h) - 4, 18)),\n      b = e(N, 2),\n      x = b[0],\n      O = b[1],\n      Y = function (e) {\n        var t = x[0],\n          r = [];\n        e === m.prev ? r = l(t - 18, 18) : e === m.next && (r = l(t + 18, 18)), O(r);\n      };\n    return t(\"div\", Object.assign({\n      \"data-testid\": \"\".concat(k, \"-year-picker\"),\n      className: p.monthYearPicker\n    }, {\n      children: [r(\"div\", Object.assign({\n        className: s(p.navigationWrapper, p.navigationLeft)\n      }, {\n        children: r(c, {\n          kind: m.prev,\n          onClick: function () {\n            return Y(m.prev);\n          }\n        })\n      })), r(\"div\", Object.assign({\n        className: s(p.navigationWrapper, p.navigationRight)\n      }, {\n        children: r(c, {\n          kind: m.next,\n          onClick: function () {\n            return Y(m.next);\n          }\n        })\n      })), r(n, Object.assign({}, f, {\n        in: !0,\n        appear: !0\n      }, {\n        children: r(\"div\", Object.assign({\n          className: p.pickerOptions\n        }, {\n          children: r(d, {\n            selectedYear: h,\n            onSelect: function (e) {\n              j(i().year(e));\n            },\n            yearsItems: x,\n            isYearBlocked: g\n          })\n        }))\n      }))]\n    }));\n  };\nexport { u as default };","map":{"version":3,"names":["f","classNames","timeout","enter","exit","u","YearPicker","v","selectedDate","g","isYearBlocked","j","changeCurrentDate","k","h","format","o","i","N","a","l","parseInt","b","e","x","O","Y","onYearNavigationClick","t","r","m","prev","next","Object","assign","concat","className","p","monthYearPicker","children","s","navigationWrapper","navigationLeft","c","kind","onClick","navigationRight","n","in","appear","pickerOptions","d","selectedYear","onSelect","year","yearsItems","default"],"sources":["/Users/huynhmannguyen/Documents/GitHub/Huy_app/node_modules/monday-ui-react-core/src/components/DatePicker/YearPicker/YearPicker.tsx"],"sourcesContent":["import React, { useState } from \"react\";\nimport moment from \"moment\";\nimport { CSSTransition } from \"react-transition-group\";\nimport classnames from \"classnames\";\nimport { YEAR_FORMAT } from \"../constants\";\nimport DateNavigationItemComponent from \"../DateNavigationItem/DateNavigationItem\";\nimport { Moment, Direction } from \"../types\";\nimport styles from \"./YearPicker.module.scss\";\nimport { calcNewYearsPage } from \"../date-picker-utils\";\nimport YearsList from \"./YearsList\";\n\nconst transitionOptions = {\n  classNames: \"slide-down\",\n  timeout: { enter: 400, exit: 400 }\n};\n\nconst PAGE_SIZE = 18;\nconst BUFFER_FROM_CURRENT_YEAR = 4;\ninterface YearPickerProps {\n  selectedDate?: Moment;\n  isYearBlocked?: (year: number) => boolean;\n  changeCurrentDate: (date: Moment) => void;\n  \"data-testid\"?: string;\n}\n\nconst YearPicker = ({ selectedDate, isYearBlocked, changeCurrentDate, \"data-testid\": dateTestId }: YearPickerProps) => {\n  const selectedYear = selectedDate ? selectedDate.format(YEAR_FORMAT) : moment().format(YEAR_FORMAT);\n\n  const [yearsToDisplay, setYearsToDisplay] = useState(\n    calcNewYearsPage(parseInt(selectedYear) - BUFFER_FROM_CURRENT_YEAR, PAGE_SIZE)\n  );\n\n  const onYearNavigationClick = (direction: Direction) => {\n    const firstYearInPage = yearsToDisplay[0];\n    let newYearsArray: number[] = [];\n    if (direction === Direction.prev) {\n      newYearsArray = calcNewYearsPage(firstYearInPage - PAGE_SIZE, PAGE_SIZE);\n    } else if (direction === Direction.next) {\n      newYearsArray = calcNewYearsPage(firstYearInPage + PAGE_SIZE, PAGE_SIZE);\n    }\n    setYearsToDisplay(newYearsArray);\n  };\n\n  const onYearSelect = (year: number) => {\n    changeCurrentDate(moment().year(year));\n  };\n\n  return (\n    <div data-testid={`${dateTestId}-year-picker`} className={styles.monthYearPicker}>\n      <div className={classnames(styles.navigationWrapper, styles.navigationLeft)}>\n        <DateNavigationItemComponent kind={Direction.prev} onClick={() => onYearNavigationClick(Direction.prev)} />\n      </div>\n      <div className={classnames(styles.navigationWrapper, styles.navigationRight)}>\n        <DateNavigationItemComponent kind={Direction.next} onClick={() => onYearNavigationClick(Direction.next)} />\n      </div>\n      <CSSTransition {...transitionOptions} in appear>\n        <div className={styles.pickerOptions}>\n          <YearsList\n            selectedYear={selectedYear}\n            onSelect={onYearSelect}\n            yearsItems={yearsToDisplay}\n            isYearBlocked={isYearBlocked}\n          />\n        </div>\n      </CSSTransition>\n    </div>\n  );\n};\n\nexport default YearPicker;\n"],"mappings":";;;;;;;;;;;;AAWA,IAAMA,CAAA,GAAoB;IACxBC,UAAA,EAAY;IACZC,OAAA,EAAS;MAAEC,KAAA,EAAO;MAAKC,IAAA,EAAM;IAAA;EAAA;EAYzBC,CAAA,GAAa,SAAAC,CAAHD,CAAA;IAAsG,IAAhGE,CAAA,GAAYF,CAAA,CAAZG,YAAA;MAAcC,CAAA,GAAaJ,CAAA,CAAbK,aAAA;MAAeC,CAAA,GAAiBN,CAAA,CAAjBO,iBAAA;MAAkCC,CAAA,GAAUR,CAAA,CAAzB;MAC9DS,CAAA,GAAeP,CAAA,GAAeA,CAAA,CAAaQ,MAAA,CAAOC,CAAA,IAAeC,CAAA,GAASF,MAAA,CAAOC,CAAA;MAEvFE,CAAA,GAA4CC,CAAA,CAC1CC,CAAA,CAAiBC,QAAA,CAASP,CAAA,IAZG,GADf;MAcfQ,CAAA,GAAAC,CAAA,CAAAL,CAAA;MAFMM,CAAA,GAAcF,CAAA;MAAEG,CAAA,GAAiBH,CAAA;MAIlCI,CAAA,GAAwB,SAAAC,CAACJ,CAAA;QAC7B,IAAMK,CAAA,GAAkBJ,CAAA,CAAe;UACnCK,CAAA,GAA0B;QAC1BN,CAAA,KAAcO,CAAA,CAAUC,IAAA,GAC1BF,CAAA,GAAgBT,CAAA,CAAiBQ,CAAA,GApBrB,UAqBHL,CAAA,KAAcO,CAAA,CAAUE,IAAA,KACjCH,CAAA,GAAgBT,CAAA,CAAiBQ,CAAA,GAtBrB,UAwBdH,CAAA,CAAkBI,CAAA;MAAA;IAOpB,OACED,CAAA,QAAAK,MAAA,CAAAC,MAAA;MAAA,kBAAAC,MAAA,CAAqBtB,CAAA,EAAwB;MAAEuB,SAAA,EAAWC,CAAA,CAAOC;IAAA,GAAe;MAAAC,QAAA,GAC9EV,CAAA,CAAK,OAAAI,MAAA,CAAAC,MAAA;QAAAE,SAAA,EAAWI,CAAA,CAAWH,CAAA,CAAOI,iBAAA,EAAmBJ,CAAA,CAAOK,cAAA;MAAA,GAAe;QAAAH,QAAA,EACzEV,CAAA,CAACc,CAAA,EAA4B;UAAAC,IAAA,EAAMd,CAAA,CAAUC,IAAA;UAAMc,OAAA,EAAS,SAAAA,CAAA;YAAA,OAAMnB,CAAA,CAAsBI,CAAA,CAAUC,IAAA,CAAK;UAAA;QAAA;MAAA,KAEzGF,CAAA,QAAAI,MAAA,CAAAC,MAAA;QAAKE,SAAA,EAAWI,CAAA,CAAWH,CAAA,CAAOI,iBAAA,EAAmBJ,CAAA,CAAOS,eAAA;MAAA,GAC1D;QAAAP,QAAA,EAAAV,CAAA,CAACc,CAAA,EAA2B;UAACC,IAAA,EAAMd,CAAA,CAAUE,IAAA;UAAMa,OAAA,EAAS,SAAAA,CAAA;YAAA,OAAMnB,CAAA,CAAsBI,CAAA,CAAUE,IAAA,CAAK;UAAA;QAAA;MAAA,KAEzGH,CAAA,CAACkB,CAAA,EAAkBd,MAAA,CAAAC,MAAA,KAAAlC,CAAA,EAAmB;QAAAgD,EAAA,GAAG;QAAAC,MAAA,GACvC;MAAA;QAAAV,QAAA,EAAAV,CAAA,QAAAI,MAAA,CAAAC,MAAA;UAAKE,SAAA,EAAWC,CAAA,CAAOa;QAAA,GAAa;UAAAX,QAAA,EAClCV,CAAA,CAACsB,CAAA,EACC;YAAAC,YAAA,EAActC,CAAA;YACduC,QAAA,EAhBW,SAAAA,CAAC9B,CAAA;cACpBZ,CAAA,CAAkBM,CAAA,GAASqC,IAAA,CAAK/B,CAAA;YAAA;YAgBxBgC,UAAA,EAAY/B,CAAA;YACZd,aAAA,EAAeD;UAAA;QAAA;MAAA;IAAA,GAM3B;EAAA;AAAA,SAAAJ,CAAA,IAAAmD,OAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}