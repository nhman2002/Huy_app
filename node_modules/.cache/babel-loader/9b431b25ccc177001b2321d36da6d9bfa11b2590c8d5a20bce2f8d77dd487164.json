{"ast":null,"code":"import { objectWithoutProperties as e, slicedToArray as t, defineProperty as n, extends as o } from \"../../../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport l, { useState as r, useEffect as i, useCallback as a } from \"react\";\nimport { components as s } from \"react-select\";\nimport c from \"classnames\";\nimport { useHiddenOptionsData as m } from \"../../hooks/useHiddenOptionsData.js\";\nimport u from \"../../../Counter/Counter.js\";\nimport p from \"../../../Dialog/Dialog.js\";\nimport d from \"../../../DialogContentContainer/DialogContentContainer.js\";\nimport h from \"../../../Chips/Chips.js\";\nimport { DROPDOWN_CHIP_COLORS as f } from \"../../DropdownConstants.js\";\nimport v from \"./MultiValueContainer.module.scss.js\";\nvar g = [\"children\", \"selectProps\"];\nfunction C(C) {\n  var E = C.children,\n    D = C.selectProps,\n    w = e(C, g),\n    b = D.isDisabled,\n    P = D.placeholder,\n    j = D.inputValue,\n    N = D.selectProps,\n    y = void 0 === N ? {} : N,\n    O = D.withMandatoryDefaultOptions,\n    I = D.readOnly,\n    M = y.selectedOptions,\n    S = y.onSelectedDelete,\n    T = y.isMultiline,\n    k = y.popupsContainerSelector,\n    A = E[1],\n    x = r(),\n    R = t(x, 2),\n    V = R[0],\n    B = R[1],\n    L = r(!1),\n    _ = t(L, 2),\n    F = _[0],\n    H = _[1],\n    K = 0 === M.length && !j,\n    W = v[\"chip-with-input-wrapper\"],\n    U = c(T ? v[\"multiselect-chip-multi-line\"] : v[\"multiselect-chip-single-line\"], n({}, v[\"multiselect-chip-disabled\"], b)),\n    Y = m({\n      isMultiline: T,\n      ref: V,\n      chipClassName: U,\n      chipWrapperClassName: W,\n      selectedOptionsCount: M.length,\n      isCounterShown: F\n    }),\n    q = Y.overflowIndex,\n    z = Y.hiddenOptionsCount;\n  i(function () {\n    H(z > 0);\n  }, [z]);\n  var G = a(function (e) {\n      S(e.value, {\n        action: \"remove-value\",\n        removedValue: e\n      });\n    }, [S]),\n    J = a(function () {\n      var e = arguments.length > 0 && void 0 !== arguments[0] ? arguments[0] : 0,\n        t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : M.length;\n      return M.map(function (n, o) {\n        var r = Object.keys(f).includes(n.chipColor) ? h.colors[n.chipColor] : h.colors.PRIMARY;\n        return o >= e && t > o ? l.createElement(h, {\n          \"data-testid\": \"value-container-chip\",\n          key: n.value,\n          className: c(v.chips, U),\n          noAnimation: !0,\n          disabled: b,\n          id: n.value,\n          label: n.label,\n          onDelete: function () {\n            return G(n);\n          },\n          disableClickableBehavior: !0,\n          onMouseDown: function (e) {\n            e.stopPropagation();\n          },\n          readOnly: I || O && n.isMandatory,\n          allowTextSelection: I,\n          leftRenderer: n.leftRenderer,\n          leftAvatar: n.leftAvatar,\n          leftIcon: n.leftIcon,\n          color: r\n        }) : null;\n      });\n    }, [M, U, b, I, O, G]);\n  return l.createElement(s.ValueContainer, o({\n    selectProps: D\n  }, w), l.createElement(\"div\", {\n    className: v[\"value-container\"]\n  }, K && l.createElement(\"div\", {\n    className: v[\"placeholder-container\"]\n  }, l.createElement(s.Placeholder, w, P)), l.createElement(\"div\", {\n    className: c(v[\"value-container-chips\"], n({}, v[\"without-placeholder\"], !K)),\n    ref: function (e) {\n      return B(e);\n    },\n    \"data-testid\": \"value-container-chips\"\n  }, F ? l.createElement(l.Fragment, null, J(0, q - 1), l.createElement(\"div\", {\n    className: W\n  }, J(q - 1, q), A), J(q)) : l.createElement(l.Fragment, null, J(0, M.length - 1), l.createElement(\"div\", {\n    className: W\n  }, J(M.length - 1), A))), l.createElement(\"div\", null, F && l.createElement(p, {\n    content: function () {\n      return l.createElement(d, {\n        className: v.valueDialogContent\n      }, J(q));\n    },\n    containerSelector: k,\n    tooltip: !0,\n    showTrigger: p.hideShowTriggers.CLICK,\n    hideTrigger: p.hideShowTriggers.CLICK_OUTSIDE,\n    position: \"bottom\",\n    moveBy: {\n      main: 5\n    }\n  }, l.createElement(u, {\n    kind: u.kinds.LINE,\n    prefix: \"+\",\n    count: z,\n    onMouseDown: function (e) {\n      e.stopPropagation();\n    },\n    noAnimation: !0\n  })))));\n}\nexport { C as default };","map":{"version":3,"names":["C","E","children","D","selectProps","w","e","g","b","isDisabled","P","placeholder","j","inputValue","N","y","O","withMandatoryDefaultOptions","I","readOnly","M","selectedOptions","S","onSelectedDelete","T","isMultiline","k","popupsContainerSelector","A","x","r","R","t","V","B","L","_","F","H","K","length","W","v","U","c","n","Y","m","ref","chipClassName","chipWrapperClassName","selectedOptionsCount","isCounterShown","q","overflowIndex","z","hiddenOptionsCount","i","G","a","value","action","removedValue","J","arguments","map","o","Object","keys","f","includes","chipColor","h","colors","PRIMARY","l","createElement","key","className","chips","noAnimation","disabled","id","label","onDelete","disableClickableBehavior","onMouseDown","stopPropagation","isMandatory","allowTextSelection","leftRenderer","leftAvatar","leftIcon","color","s","ValueContainer","Placeholder","Fragment","p","content","d","valueDialogContent","containerSelector","tooltip","showTrigger","hideShowTriggers","CLICK","hideTrigger","CLICK_OUTSIDE","position","moveBy","main","u","kind","kinds","LINE","prefix","count","default"],"sources":["/Users/huynhmannguyen/Documents/GitHub/Huy_app/node_modules/monday-ui-react-core/src/components/Dropdown/components/MultiValueContainer/MultiValueContainer.jsx"],"sourcesContent":["/* eslint-disable react/no-unstable-nested-components */\nimport React, { useCallback, useEffect, useState } from \"react\";\nimport { components } from \"react-select\";\nimport cx from \"classnames\";\nimport { useHiddenOptionsData } from \"../../hooks/useHiddenOptionsData\";\nimport Counter from \"../../../Counter/Counter\";\nimport Dialog from \"../../../Dialog/Dialog\";\nimport DialogContentContainer from \"../../../DialogContentContainer/DialogContentContainer\";\nimport Chips from \"../../../Chips/Chips\";\nimport { DROPDOWN_CHIP_COLORS } from \"../../DropdownConstants\";\nimport classes from \"./MultiValueContainer.module.scss\";\n\nconst DIALOG_OFFSET_Y = 5;\n\nexport default function Container({ children, selectProps, ...otherProps }) {\n  const {\n    isDisabled,\n    placeholder,\n    inputValue,\n    selectProps: customProps = {},\n    withMandatoryDefaultOptions,\n    readOnly\n  } = selectProps;\n  const { selectedOptions, onSelectedDelete, isMultiline, popupsContainerSelector } = customProps;\n  const clickHandler = children[1];\n  const [ref, setRef] = useState();\n  const [isCounterShown, setIsCounterShown] = useState(false);\n  const showPlaceholder = selectedOptions.length === 0 && !inputValue;\n  const chipWrapperClassName = classes[\"chip-with-input-wrapper\"];\n  const chipClassName = cx(\n    isMultiline ? classes[\"multiselect-chip-multi-line\"] : classes[\"multiselect-chip-single-line\"],\n    { [classes[\"multiselect-chip-disabled\"]]: isDisabled }\n  );\n\n  const { overflowIndex, hiddenOptionsCount } = useHiddenOptionsData({\n    isMultiline,\n    ref,\n    chipClassName,\n    chipWrapperClassName,\n    selectedOptionsCount: selectedOptions.length,\n    isCounterShown\n  });\n\n  useEffect(() => {\n    setIsCounterShown(hiddenOptionsCount > 0);\n  }, [hiddenOptionsCount]);\n\n  const onDelete = useCallback(\n    option => {\n      onSelectedDelete(option.value, { action: \"remove-value\", removedValue: option });\n    },\n    [onSelectedDelete]\n  );\n\n  const renderOptions = useCallback(\n    (from = 0, to = selectedOptions.length) =>\n      selectedOptions.map((option, index) => {\n        const overrideChipColor = Object.keys(DROPDOWN_CHIP_COLORS).includes(option.chipColor)\n          ? Chips.colors[option.chipColor]\n          : Chips.colors.PRIMARY;\n        return index >= from && index < to ? (\n          <Chips\n            data-testid=\"value-container-chip\"\n            key={option.value}\n            className={cx(classes.chips, chipClassName)}\n            noAnimation\n            disabled={isDisabled}\n            id={option.value}\n            label={option.label}\n            onDelete={() => onDelete(option)}\n            disableClickableBehavior\n            onMouseDown={e => {\n              e.stopPropagation();\n            }}\n            readOnly={readOnly || (withMandatoryDefaultOptions && option.isMandatory)}\n            allowTextSelection={readOnly}\n            leftRenderer={option.leftRenderer}\n            leftAvatar={option.leftAvatar}\n            leftIcon={option.leftIcon}\n            color={overrideChipColor}\n          />\n        ) : null;\n      }),\n    [selectedOptions, chipClassName, isDisabled, readOnly, withMandatoryDefaultOptions, onDelete]\n  );\n\n  return (\n    <components.ValueContainer selectProps={selectProps} {...otherProps}>\n      <div className={classes[\"value-container\"]}>\n        {showPlaceholder && (\n          <div className={classes[\"placeholder-container\"]}>\n            <components.Placeholder {...otherProps}>{placeholder}</components.Placeholder>\n          </div>\n        )}\n        <div\n          className={cx(classes[\"value-container-chips\"], { [classes[\"without-placeholder\"]]: !showPlaceholder })}\n          ref={newRef => setRef(newRef)}\n          data-testid=\"value-container-chips\"\n        >\n          {isCounterShown ? (\n            <>\n              {renderOptions(0, overflowIndex - 1)}\n              <div className={chipWrapperClassName}>\n                {renderOptions(overflowIndex - 1, overflowIndex)}\n                {clickHandler}\n              </div>\n              {renderOptions(overflowIndex)}\n            </>\n          ) : (\n            <>\n              {renderOptions(0, selectedOptions.length - 1)}\n              <div className={chipWrapperClassName}>\n                {renderOptions(selectedOptions.length - 1)}\n                {clickHandler}\n              </div>\n            </>\n          )}\n        </div>\n        <div>\n          {isCounterShown && (\n            <Dialog\n              content={() => (\n                <DialogContentContainer className={classes.valueDialogContent}>\n                  {renderOptions(overflowIndex)}\n                </DialogContentContainer>\n              )}\n              containerSelector={popupsContainerSelector}\n              tooltip\n              showTrigger={Dialog.hideShowTriggers.CLICK}\n              hideTrigger={Dialog.hideShowTriggers.CLICK_OUTSIDE}\n              position=\"bottom\"\n              moveBy={{ main: DIALOG_OFFSET_Y }}\n            >\n              <Counter\n                kind={Counter.kinds.LINE}\n                prefix=\"+\"\n                count={hiddenOptionsCount}\n                onMouseDown={e => {\n                  e.stopPropagation();\n                }}\n                noAnimation\n              />\n            </Dialog>\n          )}\n        </div>\n      </div>\n    </components.ValueContainer>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}