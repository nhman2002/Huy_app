{"ast":null,"code":"import { defineProperty as e } from \"../../../../_virtual/_rollupPluginBabelHelpers.js\";\nimport { jsx as o } from \"react/jsx-runtime\";\nimport { useRef as t, useEffect as n } from \"react\";\nimport { DialogPosition as i } from \"../../../constants/positions.js\";\nimport { NOOP as r } from \"../../../utils/function-utils.js\";\nimport a from \"../../Tooltip/Tooltip.js\";\nimport { TOOLTIP_SHOW_DELAY as s } from \"../SliderConstants.js\";\nimport { useSliderSelection as l, useSliderUi as u, useSliderActions as m } from \"../SliderContext.js\";\nimport c from \"classnames\";\nimport d from \"./SliderThumb.module.scss.js\";\nimport { getStyle as p } from \"../../../helpers/typesciptCssModulesHelper.js\";\nvar f = i.TOP,\n  v = function (i) {\n    var v = i.className,\n      b = i.index,\n      g = void 0 === b ? 0 : b,\n      j = i.onMove,\n      h = void 0 === j ? r : j,\n      x = i.position,\n      L = void 0 === x ? 0 : x,\n      T = i.size,\n      y = i.color,\n      P = l(),\n      w = P.max,\n      D = P.min,\n      E = P.ranged,\n      O = P.value,\n      C = P.valueText,\n      N = E ? O[g] : O,\n      S = E ? C[g] : C,\n      B = u(),\n      F = B.active,\n      H = B.ariaLabel,\n      I = B.ariaLabelledby,\n      M = B.disabled,\n      _ = B.dragging,\n      z = B.focused,\n      A = B.shapeTestId,\n      V = B.showValue,\n      k = m(),\n      q = k.setActive,\n      G = k.setFocused,\n      J = k.setDragging,\n      K = t(null);\n    function Q() {\n      J(null), document.removeEventListener(\"pointermove\", h), document.removeEventListener(\"pointerup\", Q);\n    }\n    return n(function () {\n      z === g && K && K.current && K.current.focus();\n    }, [z, g]), o(a, Object.assign({\n      open: F === g || _ === g,\n      content: V ? null : S,\n      position: f,\n      showDelay: s\n    }, {\n      children: o(\"div\", Object.assign({\n        \"aria-label\": H,\n        \"aria-labelledby\": I,\n        \"aria-valuemax\": w,\n        \"aria-valuemin\": D,\n        \"aria-valuenow\": N,\n        \"aria-valuetext\": S,\n        \"aria-disabled\": M,\n        className: c(d.thumb, p(d, y), p(d, T), e(e(e({}, d.dragging, _ === g), d.focused, z), d.notDisabledThumb, !M), v),\n        \"data-testid\": A(\"thumb-\".concat(g)),\n        onFocus: function () {\n          G(g), q(g);\n        },\n        onBlur: function () {\n          G(null), q(null);\n        },\n        onPointerDown: function (e) {\n          e.stopPropagation(), J(g), document.addEventListener(\"pointermove\", h), document.addEventListener(\"pointerup\", Q);\n        },\n        onPointerLeave: function () {\n          q(null);\n        },\n        ref: K,\n        role: \"slider\",\n        style: {\n          left: \"\".concat(L, \"%\")\n        },\n        tabIndex: M ? -1 : 0\n      }, {\n        children: V && o(\"label\", Object.assign({\n          className: d.label\n        }, {\n          children: S\n        }))\n      }))\n    }));\n  };\nexport { v as default };","map":{"version":3,"names":["f","i","TOP","v","SliderThumb","className","b","index","g","j","onMove","h","r","x","position","L","T","size","y","color","P","l","w","max","D","min","E","ranged","O","value","C","valueText","N","S","B","u","F","active","H","ariaLabel","I","ariaLabelledby","M","disabled","_","dragging","z","focused","A","shapeTestId","V","showValue","k","m","q","setActive","G","setFocused","J","setDragging","K","t","Q","document","removeEventListener","n","current","focus","o","a","Object","assign","open","content","showDelay","s","children","c","d","thumb","p","e","notDisabledThumb","concat","onFocus","onBlur","onPointerDown","stopPropagation","addEventListener","onPointerLeave","ref","role","style","left","tabIndex","label","default"],"sources":["/Users/huynhmannguyen/Documents/GitHub/Huy_app/node_modules/monday-ui-react-core/src/components/Slider/SliderBase/SliderThumb.tsx"],"sourcesContent":["import React, { FC, useEffect, useRef } from \"react\";\nimport { DialogPosition } from \"../../../constants/positions\";\nimport { NOOP } from \"../../../utils/function-utils\";\nimport Tooltip from \"../../Tooltip/Tooltip\";\nimport { SliderColor, SliderSize, TOOLTIP_SHOW_DELAY } from \"../SliderConstants\";\nimport { useSliderActions, useSliderSelection, useSliderUi } from \"../SliderContext\";\nimport VibeComponentProps from \"../../../types/VibeComponentProps\";\nimport cx from \"classnames\";\nimport styles from \"./SliderThumb.module.scss\";\nimport { getStyle } from \"../../../helpers/typesciptCssModulesHelper\";\n\nconst tooltipPosition = DialogPosition.TOP;\n\nexport interface SliderThumbProps extends VibeComponentProps {\n  /**\n   * Consumer/Custom/Extra `class names` to be added to the Component's-Root-Node\n   */\n  className?: string;\n  /**\n   * Consumer/Custom/Extra `class names` to be added to the Component's-Root-Node\n   */\n  index?: number;\n  /**\n   * On SliderThumb move callback\n   */\n  onMove?: (event: PointerEvent) => void;\n  /**\n   * Position (i.e. offset) from start of track/rail, according to value\n   */\n  position?: number;\n  size: SliderSize;\n  color: SliderColor;\n}\n\nconst SliderThumb: FC<SliderThumbProps> = ({ className, index = 0, onMove = NOOP, position = 0, size, color }) => {\n  const { max, min, ranged, value: valueOrValues, valueText: valueOrValuesText } = useSliderSelection();\n  const value = ranged ? (valueOrValues as unknown as number[])[index] : (valueOrValues as number);\n  const valueText = ranged ? (valueOrValuesText as unknown as string[])[index] : (valueOrValuesText as string);\n  const { active, ariaLabel, ariaLabelledby, disabled, dragging, focused, shapeTestId, showValue } = useSliderUi();\n  const { setActive, setFocused, setDragging } = useSliderActions();\n  const ref = useRef(null);\n\n  function handleBlur() {\n    setFocused(null);\n    setActive(null);\n  }\n\n  function handleFocus() {\n    setFocused(index);\n    setActive(index);\n  }\n\n  function handlePointerLeave() {\n    setActive(null);\n  }\n\n  function handlePointerDown(e: React.PointerEvent) {\n    e.stopPropagation();\n    setDragging(index);\n    document.addEventListener(\"pointermove\", onMove);\n    document.addEventListener(\"pointerup\", stopMove);\n  }\n\n  function stopMove() {\n    setDragging(null);\n    document.removeEventListener(\"pointermove\", onMove);\n    document.removeEventListener(\"pointerup\", stopMove);\n  }\n\n  useEffect(() => {\n    if (focused === index && ref && ref.current) {\n      ref.current.focus();\n    }\n  }, [focused, index]);\n\n  return (\n    <Tooltip\n      open={active === index || dragging === index}\n      content={showValue ? null : valueText}\n      position={tooltipPosition}\n      showDelay={TOOLTIP_SHOW_DELAY}\n    >\n      <div\n        aria-label={ariaLabel}\n        aria-labelledby={ariaLabelledby}\n        aria-valuemax={max}\n        aria-valuemin={min}\n        aria-valuenow={value}\n        aria-valuetext={valueText}\n        aria-disabled={disabled}\n        className={cx(\n          styles.thumb,\n          getStyle(styles, color),\n          getStyle(styles, size),\n          {\n            [styles.dragging]: dragging === index,\n            [styles.focused]: focused,\n            [styles.notDisabledThumb]: !disabled\n          },\n          className\n        )}\n        data-testid={shapeTestId(`thumb-${index}`)}\n        onFocus={handleFocus}\n        onBlur={handleBlur}\n        onPointerDown={handlePointerDown}\n        onPointerLeave={handlePointerLeave}\n        ref={ref}\n        role=\"slider\"\n        style={{ left: `${position}%` }}\n        tabIndex={disabled ? -1 : 0}\n      >\n        {showValue && <label className={styles.label}>{valueText}</label>}\n      </div>\n    </Tooltip>\n  );\n};\n\nexport default SliderThumb;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}