{"version":3,"file":"ThemeProvider.js","mappings":"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","sources":["webpack://monday-style/webpack/universalModuleDefinition","webpack://monday-style/./node_modules/classnames/index.js","webpack://monday-style/./src/components/ThemeProvider/ThemeProvider.tsx","webpack://monday-style/./src/components/ThemeProvider/ThemeProviderConstants.ts","webpack://monday-style/./src/components/ThemeProvider/ThemeProviderUtils.ts","webpack://monday-style/./src/style-imports.ts","webpack://monday-style/./src/types/index.ts","webpack://monday-style/./src/types/withStaticProps.ts","webpack://monday-style/external umd \"react\"","webpack://monday-style/webpack/bootstrap","webpack://monday-style/webpack/runtime/make namespace object","webpack://monday-style/webpack/startup"],"sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory(require(\"react\"));\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([\"react\"], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"monday-style\"] = factory(require(\"react\"));\n\telse\n\t\troot[\"monday-style\"] = factory(root[\"react\"]);\n})(this, (__WEBPACK_EXTERNAL_MODULE__8156__) => {\nreturn ","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\tvar nativeCodeString = '[native code]';\n\n\tfunction classNames() {\n\t\tvar classes = [];\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (!arg) continue;\n\n\t\t\tvar argType = typeof arg;\n\n\t\t\tif (argType === 'string' || argType === 'number') {\n\t\t\t\tclasses.push(arg);\n\t\t\t} else if (Array.isArray(arg)) {\n\t\t\t\tif (arg.length) {\n\t\t\t\t\tvar inner = classNames.apply(null, arg);\n\t\t\t\t\tif (inner) {\n\t\t\t\t\t\tclasses.push(inner);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t} else if (argType === 'object') {\n\t\t\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\t\t\tclasses.push(arg.toString());\n\t\t\t\t\tcontinue;\n\t\t\t\t}\n\n\t\t\t\tfor (var key in arg) {\n\t\t\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\t\t\tclasses.push(key);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\n\t\treturn classes.join(' ');\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import cx from \"classnames\";\nimport React, { FC, ReactElement, useEffect, useMemo, useState } from \"react\";\nimport { SystemTheme, Theme, ThemeColor } from \"./ThemeProviderConstants\";\nimport { generateRandomAlphaString, generateThemeCssOverride, shouldGenerateTheme } from \"./ThemeProviderUtils\";\nimport { withStaticProps } from \"../../types\";\n\nexport interface ThemeProviderProps {\n  /**\n   * The theme to apply, consists of name - name of css class that will be added to the children, which should be unique - and the object of colors overrides for each system theme.\n   */\n  theme?: Theme;\n  /**\n   * The children to render with the theme\n   */\n  children: ReactElement;\n  /**\n   * String which adds up to theme name selector to make it more specific (in case if theme.name is colliding with some other class name)\n   */\n  themeClassSpecifier?: string;\n}\n\nconst ThemeProvider: FC<ThemeProviderProps> & {\n  systemThemes?: typeof SystemTheme;\n  colors?: typeof ThemeColor;\n} = ({ theme, children, themeClassSpecifier: customThemeClassSpecifier }) => {\n  const [stylesLoaded, setStylesLoaded] = useState(false);\n  const themeClassSpecifier = useMemo(\n    () => customThemeClassSpecifier || generateRandomAlphaString(),\n    [customThemeClassSpecifier]\n  );\n\n  useEffect(() => {\n    if (!shouldGenerateTheme(theme)) {\n      return;\n    }\n    if (document.getElementById(theme.name)) {\n      setStylesLoaded(true);\n      return;\n    }\n\n    const styleElement = document.createElement(\"style\");\n    styleElement.type = \"text/css\";\n    styleElement.id = theme.name;\n    const themeCssOverride = generateThemeCssOverride(theme, themeClassSpecifier);\n\n    try {\n      styleElement.appendChild(document.createTextNode(themeCssOverride));\n      document.head.appendChild(styleElement);\n      setStylesLoaded(true);\n    } catch (error) {\n      console.error(\"vibe ThemeProvider: error inserting theme-generated css - \", error);\n    }\n\n    return () => {\n      document.head.removeChild(styleElement);\n    };\n  }, [themeClassSpecifier, theme]);\n\n  if (!stylesLoaded && shouldGenerateTheme(theme)) {\n    // Waiting for styles to load before children render\n    return null;\n  }\n\n  // Pass the theme name as a class to the children - to scope the effect of the theme\n  return React.cloneElement(children, {\n    className: cx(theme?.name, themeClassSpecifier, children?.props?.className)\n  });\n};\n\nexport default withStaticProps(ThemeProvider, {\n  systemThemes: SystemTheme,\n  colors: ThemeColor\n});\n","/**\n * System themes: dark, light, black, hacker\n */\nexport enum SystemTheme {\n  LIGHT = \"light\",\n  DARK = \"dark\",\n  BLACK = \"black\"\n}\n\n/**\n * Colors which are eligible for theming\n */\nexport enum ThemeColor {\n  primaryColor = \"primary-color\",\n  primaryHoverColor = \"primary-hover-color\",\n  primarySelectedColor = \"primary-selected-color\",\n  primarySelectedHoverColor = \"primary-selected-hover-color\",\n  primarySelectedOnSecondaryColor = \"primary-selected-on-secondary-color\",\n  textColorOnPrimary = \"text-color-on-primary\",\n  brandColor = \"brand-color\",\n  brandHoverColor = \"brand-hover-color\",\n  brandSelectedColor = \"brand-selected-color\",\n  brandSelectedHoverColor = \"brand-selected-hover-color\",\n  textColorOnBrand = \"text-color-on-brand\"\n}\n\nexport type Theme = {\n  /**\n   * The name of the theme - name of css class that will be added to the children - should be unique\n   */\n  name: string;\n  colors: SystemThemeColorMap;\n};\n\ntype SystemThemeColorMap = {\n  [key in SystemTheme]?: ThemeColorTokenValueMap;\n};\n\nexport type ThemeColorTokenValueMap = ThemeColorTokenValue | ThemeCustomClassValue;\n\nexport type ThemeColorTokenValue = {\n  [key in ThemeColor]?: string;\n};\n\ntype ThemeCustomClassValue = {\n  [key: string]: ThemeColorTokenValue | ThemeCustomClassValue;\n};\n\nexport const SystemThemeClassMap: SystemThemeClassMapType = {\n  [SystemTheme.LIGHT]: \"light-app-theme\",\n  [SystemTheme.DARK]: \"dark-app-theme\",\n  [SystemTheme.BLACK]: \"black-app-theme\"\n};\n\ntype SystemThemeClassMapType = {\n  [key in SystemTheme]: string;\n};\n","import { Theme, ThemeColorTokenValueMap, SystemTheme, SystemThemeClassMap } from \"./ThemeProviderConstants\";\n\nconst generateCss = (object: ThemeColorTokenValueMap, stack: string, parentSelector: string) => {\n  for (const key of Object.keys(object)) {\n    if (typeof object[key as keyof ThemeColorTokenValueMap] === \"string\") {\n      stack += `--${key}: ${object[key as keyof ThemeColorTokenValueMap]};`;\n    }\n  }\n\n  if (stack !== \"\") {\n    stack = parentSelector + \" {\" + stack + \"}\";\n  }\n\n  for (const key of Object.keys(object)) {\n    if (typeof object[key as keyof ThemeColorTokenValueMap] === \"object\") {\n      const selector = `${parentSelector} .${key}`;\n      stack +=\n        \"\\n\" + generateCss(object[key as keyof ThemeColorTokenValueMap] as ThemeColorTokenValueMap, \"\", selector);\n    }\n  }\n\n  return stack;\n};\n\nexport const shouldGenerateTheme = (theme: Theme) => {\n  return !!theme?.colors && !!theme?.name;\n};\n\nexport const generateThemeCssOverride = (theme: Theme, themeClassSpecifier: string) => {\n  if (!shouldGenerateTheme(theme)) {\n    return null;\n  }\n\n  let css = \"\";\n  for (const systemTheme of Object.keys(theme.colors) as SystemTheme[]) {\n    css +=\n      generateCss(\n        theme.colors[systemTheme],\n        \"\",\n        `.${SystemThemeClassMap[systemTheme]} .${themeClassSpecifier}.${theme.name}`\n      ) + \"\\n\";\n  }\n\n  return css;\n};\n\nexport const generateRandomAlphaString = (length = 6) => {\n  let result = \"\";\n  const characters = \"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";\n\n  for (let i = 0; i < length; i++) {\n    result += characters.charAt(Math.floor(Math.random() * characters.length));\n  }\n\n  return result;\n};\n","import \"monday-ui-style/dist/index.min.css\";\n","export * from \"./events\";\nexport * from \"./positions\";\nexport * from \"./SubIcon\";\nexport { default as VibeComponent } from \"./VibeComponent\";\nexport { default as VibeComponentProps } from \"./VibeComponentProps\";\nexport * from \"./withStaticProps\";\nexport * from \"./ArrayLastElement\";\nexport * from \"./SplitString\";\nexport * from \"./ElementContent\";\nexport * from \"./ValueOf\";\n","import VibeComponent from \"./VibeComponent\";\nimport React from \"react\";\n\ntype Required<T> = {\n  [P in keyof T]-?: T[P];\n};\n\nexport const withStaticProps = <T, P, S>(\n  forwarded: (VibeComponent<T, P> & Partial<S>) | (React.FC<T> & Partial<S>),\n  staticProps: Required<S>\n) => Object.assign(forwarded, staticProps);\n","module.exports = __WEBPACK_EXTERNAL_MODULE__8156__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// startup\n// Load entry module and return exports\n__webpack_require__(41921);\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(2230);\n"],"names":["root","factory","exports","module","require","define","amd","this","__WEBPACK_EXTERNAL_MODULE__8156__","hasOwn","hasOwnProperty","classNames","classes","i","arguments","length","arg","argType","push","Array","isArray","inner","apply","toString","Object","prototype","includes","key","call","join","default","withStaticProps","theme","children","themeClassSpecifier","customThemeClassSpecifier","stylesLoaded","setStylesLoaded","useState","useMemo","generateRandomAlphaString","useEffect","shouldGenerateTheme","document","getElementById","name","styleElement","createElement","type","id","themeCssOverride","generateThemeCssOverride","appendChild","createTextNode","head","error","console","removeChild","cloneElement","className","props","systemThemes","SystemTheme","colors","ThemeColor","SystemThemeClassMap","LIGHT","DARK","BLACK","generateCss","object","stack","parentSelector","keys","selector","css","systemTheme","result","characters","charAt","Math","floor","random","forwarded","staticProps","assign","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","r","Symbol","toStringTag","defineProperty","value"],"sourceRoot":""}