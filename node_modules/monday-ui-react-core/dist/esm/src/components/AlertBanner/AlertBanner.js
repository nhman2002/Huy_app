import{defineProperty as e}from"../../../_virtual/_rollupPluginBabelHelpers.js";import{jsxs as r,jsx as t}from"react/jsx-runtime";import{getStyle as o}from"../../helpers/typesciptCssModulesHelper.js";import n from"classnames";import s,{forwardRef as i,useMemo as a}from"react";import l from"../Button/Button.js";import c from"../Icon/Icon.js";import m from"../Icon/Icons/components/CloseSmall.js";import{AlertBannerBackgroundColor as d}from"./AlertBannerConstants.js";import{NOOP as p}from"../../utils/function-utils.js";import{ComponentDefaultTestId as u}from"../../tests/constants.js";import{getTestId as f}from"../../tests/testIds.js";import{withStaticProps as b}from"../../types/withStaticProps.js";import j from"./AlertBanner.module.scss.js";import A from"../Text/Text.js";import{AlertBannerContext as B}from"./AlertBannerContext.js";var N=i((function(i,d){var b=i.children,g=i.className,C=i.backgroundColor,R=void 0===C?N.backgroundColors.PRIMARY:C,v=i.onClose,I=void 0===v?p:v,O=i.ariaLabel,y=void 0===O?"":O,T=i.closeButtonAriaLabel,h=void 0===T?"Close":T,k=i.isCloseHidden,E=void 0!==k&&k,x=i.id,_=i["data-testid"],L=a((function(){return n(g,j.alertBanner,o(j,R))}),[g,R]),D=R===N.backgroundColors.DARK,P=R===N.backgroundColors.WARNING,M=a((function(){return P?A.colors.FIXED_DARK:D?A.colors.ON_INVERTED:A.colors.ON_PRIMARY}),[D,P]),S=a((function(){return s.Children.toArray(b).filter((function(e){return!(!e.type.isAlertBannerItem&&"MDXCreateElement"!==e.type.displayName)||(console.error("Alert banner child is not supported. Please use AlertBannerText, AlertBannerLink or AlertBannerButton.",e),!1)})).map((function(e,r){return s.cloneElement(e,Object.assign(Object.assign({},null==e?void 0:e.props),{marginLeft:r>0,isDarkBackground:D}))}))}),[b,D]);return r(A,Object.assign({type:A.types.TEXT2,color:M,ref:d,className:L,role:"banner","aria-label":y||"banner",id:x,"data-testid":_||f(u.ALERT_BANNER,x)},{children:[t(B.Provider,Object.assign({value:{textColor:M}},{children:t("div",Object.assign({className:n(j.content)},{children:S.map((function(r,o){var s=r.type.isAlertBannerText;return t("div",Object.assign({className:n(j.contentItem,e({},j.contentItemText,s))},{children:s?t("div",Object.assign({className:n(j.ellipsis)},{children:r})):r}),o)}))}))})),t("div",Object.assign({className:n(j.closeButtonWrapper)},{children:E?null:t(l,Object.assign({"data-testid":"alert-banner-close-button",className:n(j.closeBtn),onClick:I,size:l.sizes.SMALL,kind:l.kinds.TERTIARY,color:D?l.colors.ON_INVERTED_BACKGROUND:l.colors.ON_PRIMARY_COLOR,ariaLabel:h},{children:t(c,{iconType:c.type.SVG,clickable:!1,icon:m,iconSize:"20px",ignoreFocusStyle:!0})}))}))]}))})),g=b(N,{backgroundColors:d});export{g as default};
//# sourceMappingURL=AlertBanner.js.map
