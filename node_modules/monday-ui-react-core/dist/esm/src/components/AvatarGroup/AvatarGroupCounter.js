import{jsx as o,jsxs as r}from"react/jsx-runtime";import{useRef as t,useCallback as e}from"react";import n from"classnames";import i from"../Avatar/Avatar.js";import a from"../Counter/Counter.js";import s from"../MenuButton/MenuButton.js";import u from"../Menu/Menu/Menu.js";import l from"../Menu/MenuItem/AvatarMenuItem.js";import c from"./AvatarGroupCounterTooltipContainer.js";import{getStyle as p}from"../../helpers/typesciptCssModulesHelper.js";import{avatarOnClick as m}from"./AvatarGroupHelper.js";import d from"./AvatarGroupCounter.module.scss.js";import{AVATAR_GROUP_COUNTER_AVATAR_SIZE as v}from"./AvatarGroupConstants.js";var f=function(f){var b=f.counterTooltipAvatars,j=void 0===b?[]:b,I=f.counterTooltipCustomProps,C=f.counterTooltipIsVirtualizedList,M=void 0!==C&&C,x=f.size,g=void 0===x?i.sizes.MEDIUM:x,h=f.type,A=f.counterAriaLabel,L=f.counterProps||{},P=L.color,z=void 0===P?a.colors.LIGHT:P,T=L.count,O=void 0===T?j.length:T,G=L.prefix,N=void 0===G?"+":G,y=L.maxDigits,D=void 0===y?3:y,k=L.ariaLabelItemsName,H=void 0===k?"items":k,R=p(d,null==g?void 0:""+g),B=d[z],E=t(null),U=t(null),V=t(null),S=e((function(){return o(a,{color:z,count:O,prefix:N,maxDigits:D,ariaLabel:A||"Tab for more ".concat(H)})}),[A,H,z,D,N,O]);return j.length||O?j.some((function(o){var r;return null===(r=o.props)||void 0===r?void 0:r.onClick}))?o(s,Object.assign({component:S,zIndex:1,className:n(d.counterContainer,R,B),ariaLabel:A||"".concat(O," additional ").concat(H)},{children:o(u,Object.assign({id:"menu",size:u.sizes.MEDIUM,className:d.menu,focusItemIndexOnMount:0},{children:j.map((function(r,t){var e,n,i,a;return o(l,{menuItemProps:{key:(null===(e=r.props)||void 0===e?void 0:e.id)||t+"",title:(null===(i=null===(n=r.props)||void 0===n?void 0:n.tooltipProps)||void 0===i?void 0:i.content)||(null===(a=null==r?void 0:r.props)||void 0===a?void 0:a.ariaLabel),onClick:function(o){return m(o,r.props)}},avatarProps:Object.assign(Object.assign({},r.props),{customSize:v,ariaLabel:"",tabIndex:-1})})}))}))})):r(c,Object.assign({focusPrevPlaceholderRef:E,focusNextPlaceholderRef:U,counterContainerRef:V,avatars:j,counterTooltipCustomProps:I,counterTooltipIsVirtualizedList:M,type:h},{children:[o("div",{tabIndex:-1,ref:E}),r("div",Object.assign({tabIndex:0,className:n(d.counterContainer,R,B),ref:V},{children:[S(),o("div",{tabIndex:-1,ref:U})]}))]})):null};export{f as default};
//# sourceMappingURL=AvatarGroupCounter.js.map
