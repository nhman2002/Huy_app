import{jsxs as e,jsx as t}from"react/jsx-runtime";import o from"classnames";import{forwardRef as a,useRef as r,useCallback as i,useEffect as n,useMemo as s}from"react";import{isNil as c,noop as l}from"lodash-es";import m from"../Icon/Icon.js";import d from"../Icon/Icons/components/Check.js";import p from"../Icon/Icons/components/Remove.js";import{backwardCompatibilityForProperties as u}from"../../helpers/backwardCompatibilityForProperties.js";import{useSupportFirefoxLabelClick as f}from"./hooks/useSupportFirefoxLabelClick.js";import b from"../../hooks/useMergeRef.js";import{getTestId as C}from"../../tests/testIds.js";import{ComponentDefaultTestId as h}from"../../tests/constants.js";import k from"../Text/Text.js";import j from"./Checkbox.module.scss.js";var v=a((function(a,v){var x=a.className,y=a.componentClassName,I=a.checkboxClassName,N=a.labelClassName,g=a.ariaLabel,O=a.label,w=a.ariaLabelledBy,B=a.onChange,E=void 0===B?l:B,F=a.checked,H=a.indeterminate,L=void 0!==H&&H,T=a.disabled,X=void 0!==T&&T,K=a.defaultChecked,S=a.tabIndex,A=a.value,R=void 0===A?"":A,q=a.name,M=void 0===q?"":q,_=a.id,z=a["data-testid"],G=r(null),P=b(v,G),U=r(null),V=u([x,y]),D=i((function(){var e=G.current;e&&window.requestAnimationFrame((function(){window.requestAnimationFrame((function(){e.blur()}))}))}),[G]),J=K;c(J)&&c(F)&&(J=!1),n((function(){G.current&&(G.current.indeterminate=L)}),[G,L]);var Q=f({inputRef:G}).onClickCapture,W=s((function(){return g||("string"==typeof O?O:"")}),[g,O]);return e("label",Object.assign({className:o(j.wrapper,V),onMouseUp:D,"data-testid":z||C(h.CHECKBOX,_),htmlFor:_,onClickCapture:Q},{children:[t("input",{ref:P,id:_,className:j.input,value:R,name:M,type:"checkbox",onChange:E,defaultChecked:J,disabled:X,"aria-label":W,"aria-labelledby":w,checked:F,tabIndex:S}),t("div",Object.assign({className:o(j.checkbox,I),ref:U,"data-testid":C(h.CHECKBOX_CHECKBOX,_)},{children:t(m,{className:j.icon,iconType:m.type.SVG,icon:L?p:d,ignoreFocusStyle:!0,clickable:!1,ariaHidden:!0,iconSize:"16"})})),!1===O?null:t(k,Object.assign({element:"span",type:k.types.TEXT2,className:o(j.label,N),"data-testid":C(h.CHECKBOX_LABEL,_)},{children:O}))]}))}));export{v as default};
//# sourceMappingURL=Checkbox.js.map
