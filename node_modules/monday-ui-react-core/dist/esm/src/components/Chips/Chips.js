import{slicedToArray as e,defineProperty as o}from"../../../_virtual/_rollupPluginBabelHelpers.js";import{jsxs as i,jsx as t}from"react/jsx-runtime";import{forwardRef as s,useRef as r,useMemo as a,useCallback as l}from"react";import n from"classnames";import c from"../Icon/Icon.js";import d from"../../hooks/useMergeRef.js";import m from"../Icon/Icons/components/CloseSmall.js";import{getCSSVar as p}from"../../services/themes.js";import{ElementAllowedColor as u,getElementColor as v}from"../../utils/colors-vars-map.js";import f from"../Avatar/Avatar.js";import b from"../IconButton/IconButton.js";import h from"../Text/Text.js";import{getTestId as j,ComponentDefaultTestId as g}from"../../tests/testIds.js";import{AvatarType as y}from"../Avatar/AvatarConstants.js";import{withStaticProps as T}from"../../types/withStaticProps.js";import C from"../../hooks/useHover/useHover.js";import N from"../../hooks/useSetFocus/index.js";import k from"../../hooks/useClickableProps/useClickableProps.js";import{backwardCompatibilityForProperties as I}from"../../helpers/backwardCompatibilityForProperties.js";import O from"./Chips.module.scss.js";var A=s((function(s,u){var T=s.className,S=s.avatarClassName,w=s.iconClassName,P=s.id,R=s.label,x=void 0===R?"":R,B=s.leftIcon,M=void 0===B?null:B,z=s.rightIcon,F=void 0===z?null:z,H=s.leftAvatar,_=void 0===H?null:H,D=s.rightAvatar,L=void 0===D?null:D,X=s.disabled,E=void 0!==X&&X,G=s.readOnly,Y=void 0!==G&&G,U=s.allowTextSelection,q=void 0!==U&&U,J=s.color,K=void 0===J?A.colors.PRIMARY:J,Q=s.iconSize,V=void 0===Q?18:Q,W=s.onDelete,Z=void 0===W?function(e,o){}:W,$=s.onMouseDown,ee=s.onClick,oe=s.noAnimation,ie=void 0===oe||oe,te=s.ariaLabel,se=s.disableClickableBehavior,re=void 0!==se&&se,ae=s.leftAvatarType,le=void 0===ae?y.IMG:ae,ne=s.rightAvatarType,ce=void 0===ne?y.IMG:ne,de=s.showBorder,me=void 0!==de&&de,pe=s.leftRenderer,ue=s.rightRenderer,ve=s.closeButtonAriaLabel,fe=void 0===ve?"Remove":ve,be=I([s["data-testid"],s.dataTestId],j(g.CHIP,P)),he=!(!ee&&!$||re),je=!Y&&!E,ge=te||"string"==typeof x&&x||"",ye=r(null),Te=r(null),Ce=C(),Ne=e(Ce,2),ke=Ne[0],Ie=Ne[1],Oe=N({ref:Te}).isFocused,Ae=d(u,Te,ke),Se=n(O.chips,T,o(o(o(o(o({},O.disabled,E),O.withClose,je),O.noAnimation,ie),O.withUserSelect,q),O.border,me)),we=n(O.clickable,Se,o(o({},O.disabled,E),O.disableTextSelection,!q)),Pe=a((function(){return{backgroundColor:E?p("disabled-background-color"):he&&(Ie||Oe)?v(K,!0,!0):v(K,!0)}}),[E,he,Ie,Oe,K]),Re=l((function(e){e.stopPropagation(),Z&&Z(P,e)}),[P,Z]),xe=l((function(e){void 0!==ee&&e.target!==ye.current&&(e.preventDefault(),ee(e))}),[ee]),Be=k({onClick:xe,onMouseDown:$,disabled:E,id:P,"data-testid":be,ariaLabel:ge,ariaHidden:!1,ariaHasPopup:!1,ariaExpanded:!1},Ae),Me=he?Object.assign(Object.assign({},Be),{ref:Be.ref,className:we,style:Pe}):{className:Se,"aria-label":ge,style:Pe,ref:Ae,onClick:xe,onMouseDown:$,id:P,"data-testid":be},ze=le===y.TEXT?{text:_}:{src:_},Fe=le===y.TEXT?{text:L}:{src:L};return i("div",Object.assign({},Me,{children:[_?t(f,Object.assign({withoutBorder:!0,className:n(O.avatar,O.left,S),customSize:20,type:le},ze),P):null,M?t(c,{className:n(O.icon,O.left,w),iconType:c.type.ICON_FONT,clickable:!1,icon:M,iconSize:V,ignoreFocusStyle:!0}):null,pe&&t("div",Object.assign({className:n(O.customRenderer,O.left)},{children:pe})),t(h,Object.assign({type:h.types.TEXT2,className:O.label},{children:x})),F?t(c,{className:n(O.icon,O.right,w),iconType:c.type.ICON_FONT,clickable:!1,icon:F,iconSize:V,ignoreFocusStyle:!0}):null,L?t(f,Object.assign({withoutBorder:!0,className:n(O.avatar,O.right,S),customSize:20,type:ce},Fe),P):null,ue&&t("div",Object.assign({className:n(O.customRenderer,O.right)},{children:ue})),je&&t(b,{size:b.sizes.XXS,color:b.colors.ON_PRIMARY_COLOR,className:n(O.icon,O.close),ariaLabel:fe,hideTooltip:!0,icon:m,onClick:Re,"data-testid":"".concat(be,"-close"),ref:ye})]}))})),S=T(A,{colors:u,avatarTypes:y});export{S as default};
//# sourceMappingURL=Chips.js.map
