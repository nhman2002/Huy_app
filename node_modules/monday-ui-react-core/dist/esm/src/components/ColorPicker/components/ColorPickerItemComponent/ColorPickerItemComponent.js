import{defineProperty as e}from"../../../../../_virtual/_rollupPluginBabelHelpers.js";import{jsx as o,jsxs as t}from"react/jsx-runtime";import{camelCase as r}from"lodash-es";import{getStyle as s}from"../../../../helpers/typesciptCssModulesHelper.js";import n from"classnames";import{forwardRef as i,useMemo as l,useRef as c,useCallback as a,useEffect as m}from"react";import{ColorStyle as d,contentColors as u}from"../../../../utils/colors-vars-map.js";import p from"../../../../utils/colors-utils.js";import f from"../../../Icon/Icon.js";import v from"../../../Tooltip/Tooltip.js";import C from"../../../Clickable/Clickable.js";import{ColorShapes as I}from"../../ColorPickerConstants.js";import{getTestId as j}from"../../../../tests/testIds.js";import{ComponentDefaultTestId as g}from"../../../../tests/constants.js";import b from"./ColorPickerItemComponent.module.scss.js";var E=i((function(i,E){var y=i.color,k=i.onColorClicked,h=i.colorStyle,L=void 0===h?d.REGULAR:h,R=i.shouldRenderIndicatorWithoutBackground,S=i.ColorIndicatorIcon,O=i.SelectedIndicatorIcon,M=void 0===O?S:O,A=i.isSelected,N=i.colorSize,P=i.tooltipContent,T=i.isActive,x=i.colorShape,W=i["data-testid"],_=l((function(){return u.includes(y)}),[y]),D=_?p.getMondayColorAsStyle(y,L):y,H=c(null),z=a((function(){return k(y)}),[k,y]);m((function(){if((null==H?void 0:H.current)&&!R&&_){var e=H.current,o=function(e){e.target.style.background=p.getMondayColorAsStyle(y,L===d.SELECTED?d.REGULAR:d.HOVER)},t=function(e){e.target.style.background=D};return e.addEventListener("mouseenter",o,!1),e.addEventListener("mouseleave",t,!1),function(){e.removeEventListener("mouseenter",o,!1),e.removeEventListener("mouseleave",t,!1)}}}),[y,D,L,_,H,R]);var B=A||S,G=R?{color:D}:{};return o(v,Object.assign({content:P},{children:t("li",Object.assign({className:n(b.itemWrapper,e(e(e({},b.selectedColor,A),b.active,T),b.circle,x===I.CIRCLE)),"data-testid":W||j(g.COLOR_PICKER_ITEM,y)},{children:[o("div",{className:n(b.feedbackIndicator)}),o(C,Object.assign({ref:H,ariaLabel:y,className:n(b.colorItem,s(b,r("color-item-size-"+N)),e({},b.colorItemTextMode,R)),style:{background:R?"transparent":D},onClick:z,tabIndex:"-1",onMouseDown:function(e){return e.preventDefault()}},{children:o("div",Object.assign({className:n(b.colorIndicatorWrapper),style:G},{children:B&&o(f,{icon:A?M:S,className:n(e({},b.colorIconWhite,!R)),ignoreFocusStyle:!0})}))}))]}))}))}));export{E as default};
//# sourceMappingURL=ColorPickerItemComponent.js.map
