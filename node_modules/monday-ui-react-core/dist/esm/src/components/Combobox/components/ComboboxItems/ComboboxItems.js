import{jsx as e}from"react/jsx-runtime";import{forwardRef as t,useRef as o,useMemo as i,useCallback as n}from"react";import r from"classnames";import{comboboxItemRenderer as s}from"../../ComboboxHelpers/ComboboxHelpers.js";import a from"../../../VirtualizedList/VirtualizedList.js";import{COMBOBOX_CATEGORY_ITEM as l,COMBOBOX_OPTION_ITEM as m}from"../ComboboxConstants.js";import c from"./ComboboxItems.module.scss.js";var p=t((function(t,p){var d=t.className,u=t.optionClassName,f=t.categories,g=t.options,C=t.optionRenderer,v=t.activeItemIndex,I=t.visualFocusItemIndex,b=t.onOptionClick,y=t.onOptionEnter,h=t.onOptionLeave,x=t.optionLineHeight,O=t.shouldScrollToSelectedItem,j=t.renderOnlyVisibleOptions,L=t.onActiveCategoryChanged,N=t.maxOptionsWithoutScroll,R=t.itemsMap,k=t.stickyCategories,S=o(),H=i((function(){if(N)return{height:x*Math.min(g.length+Object.keys(null!=f?f:{}).length,N+.5)}}),[N,x,g,f]),V=n((function(e,t,o){return s({stickyCategories:k,item:e,style:o,optionEvents:{onOptionClick:b,onOptionEnter:y,onOptionLeave:h},optionRenderData:{className:u,optionLineHeight:x,optionRenderer:C,visualFocusItemIndex:I,scrollRef:j?null:p,activeItemIndex:v,shouldScrollToSelectedItem:O},isVirtualized:j})}),[b,y,h,u,x,C,I,j,p,v,O]),z=n((function(e){var t=e.firstItemId;window.requestAnimationFrame((function(){var e=R.get(t);if(e&&(e.type===l||e.type===m)){var o=e.type===m&&e.categoryId?e.categoryId:e.id;if(o!==S.current){S.current=o;var i=R.get(S.current);L(i)}}}))}),[R,L]);return j?e(a,{ref:p,className:r(c.optionsContainer,d),items:g,itemRenderer:V,role:"treegrid",scrollableClassName:c.scrollableContainer,onItemsRendered:z,style:H}):e("div",Object.assign({className:r(c.scrollableContainer,c.optionsContainer,d),role:"treegrid",style:H,ref:p},{children:g.map((function(e,t){return V(e,t,void 0)}))}))}));export{p as ComboboxItems};
//# sourceMappingURL=ComboboxItems.js.map
