{"version":3,"file":"ExpandCollapse.js","sources":["../../../../../src/components/ExpandCollapse/ExpandCollapse.tsx"],"sourcesContent":["import cx from \"classnames\";\nimport React, { FC, forwardRef, ReactElement, useCallback, useRef, useState } from \"react\";\nimport useMergeRef from \"../../hooks/useMergeRef\";\nimport Icon from \"../Icon/Icon\";\nimport Heading from \"../LegacyHeading/LegacyHeading\";\nimport DropdownChevronDown from \"../Icon/Icons/components/DropdownChevronDown\";\nimport { VibeComponentProps, ElementContent } from \"../../types\";\nimport { ComponentDefaultTestId, getTestId } from \"../../tests/test-ids-utils\";\nimport styles from \"./ExpandCollapse.module.scss\";\n\ninterface ExpandCollapseProps extends VibeComponentProps {\n  /**\n   * Component as parameter to be rendered as header\n   */\n  headerComponentRenderer?: () => ReactElement;\n  /**\n   * Class name to add to the header of the expandable\n   */\n  headerClassName?: string;\n  /**\n   * Class name to add to the content of the expandable\n   */\n  contentClassName?: string;\n  /**\n   * Class name to add to the component\n   */\n  componentClassName?: string;\n  /**\n   * Header title\n   */\n  title?: ElementContent;\n  /**\n   * The value of the expandable section\n   */\n  children?: ElementContent;\n  /**\n   * The expand icon font size\n   */\n  iconSize?: number | string;\n  /**\n   * Should be open or closed by default (when rendered)\n   */\n  defaultOpenState?: boolean;\n  open?: boolean;\n  onClick?: (event: React.MouseEvent) => void;\n  hideBorder?: boolean;\n}\n\nconst ExpandCollapse: FC<ExpandCollapseProps> = forwardRef(\n  (\n    {\n      children,\n      headerComponentRenderer = null,\n      title = \"\",\n      className,\n      defaultOpenState = false,\n      iconSize = 24,\n      id = \"\",\n      open,\n      onClick = null,\n      hideBorder = false,\n      headerClassName,\n      contentClassName,\n      componentClassName,\n      \"data-testid\": dataTestId\n    },\n    ref\n  ) => {\n    const componentRef = useRef(null);\n    const mergedRef = useMergeRef(ref, componentRef);\n\n    const [isOpen, setIsOpen] = useState(defaultOpenState);\n    const isExpanded = open === undefined ? isOpen : open;\n\n    const toggleExpand = () => {\n      setIsOpen(!isOpen);\n    };\n    const renderHeader = useCallback(() => {\n      return typeof title === \"string\" ? (\n        <Heading type={Heading.types.h5} value={title} className={cx(styles.headerContent)} />\n      ) : (\n        title\n      );\n    }, [title]);\n\n    return (\n      <div\n        ref={mergedRef}\n        className={className}\n        id={id}\n        data-testid={dataTestId || getTestId(ComponentDefaultTestId.EXPAND_COLLAPSE, id)}\n      >\n        <div\n          className={cx(\n            styles.expandCollapse,\n            {\n              [styles.hideBorder]: hideBorder,\n              [styles.showBorder]: !hideBorder\n            },\n            componentClassName\n          )}\n        >\n          <button\n            type=\"button\"\n            className={cx(styles.header, styles.section, headerClassName, {\n              [styles.headerOpen]: isExpanded,\n              [styles.hideBorderBottom]: hideBorder\n            })}\n            onClickCapture={onClick || toggleExpand}\n            aria-expanded={isExpanded}\n            aria-controls={`${id}-controls`}\n          >\n            {typeof title !== \"string\" || title.length !== 0\n              ? renderHeader()\n              : headerComponentRenderer && headerComponentRenderer()}\n            <Icon\n              className={cx(styles.iconComponent, {\n                [styles.animateIconOpen]: isExpanded,\n                [styles.animateIconClose]: !isExpanded\n              })}\n              iconType={Icon.type.SVG}\n              icon={DropdownChevronDown}\n              iconSize={iconSize}\n              clickable={false}\n            />\n          </button>\n          {isExpanded && (\n            <div\n              className={cx(styles.content, styles.section, contentClassName, {\n                [styles.animateExpandCollapseContent]: isExpanded\n              })}\n              id={`${id}-controls`}\n              role=\"region\"\n            >\n              {children}\n            </div>\n          )}\n        </div>\n      </div>\n    );\n  }\n);\n\nexport default ExpandCollapse;\n"],"names":["ExpandCollapse$1","forwardRef","_ref","ref","children","_ref$headerComponentR","headerComponentRenderer","_ref$title","title","className","_ref$defaultOpenState","defaultOpenState","_ref$iconSize","iconSize","_ref$id","id","open","_ref$onClick","onClick","_ref$hideBorder","hideBorder","headerClassName","contentClassName","componentClassName","dataTestId","componentRef","useRef","mergedRef","useMergeRef","_useState","useState","_useState2","_slicedToArray","isOpen","setIsOpen","isExpanded","undefined","renderHeader","useCallback","_jsx","Heading","type","types","h5","value","cx","styles","headerContent","Object","assign","getTestId","ComponentDefaultTestId","EXPAND_COLLAPSE","_jsxs","expandCollapse","_defineProperty","showBorder","header","section","headerOpen","hideBorderBottom","onClickCapture","concat","length","Icon","iconComponent","animateIconOpen","animateIconClose","iconType","SVG","icon","DropdownChevronDown","clickable","content","animateExpandCollapseContent","role"],"mappings":"ojBAgDA,IA+FAA,EA/FgDC,GAC9C,SAAAC,EAiBEC,GACE,IAhBAC,EAAQF,EAARE,SAAQC,EAAAH,EACRI,wBAAAA,OAA0B,IAAHD,EAAG,KAAIA,EAAAE,EAAAL,EAC9BM,MAAAA,OAAQ,IAAHD,EAAG,GAAEA,EACVE,EAASP,EAATO,UAASC,EAAAR,EACTS,iBAAAA,OAAmB,IAAHD,GAAQA,EAAAE,EAAAV,EACxBW,SAAAA,OAAW,IAAHD,EAAG,GAAEA,EAAAE,EAAAZ,EACba,GAAAA,OAAK,IAAHD,EAAG,GAAEA,EACPE,EAAId,EAAJc,KAAIC,EAAAf,EACJgB,QAAAA,OAAU,IAAHD,EAAG,KAAIA,EAAAE,EAAAjB,EACdkB,WAAAA,OAAa,IAAHD,GAAQA,EAClBE,EAAenB,EAAfmB,gBACAC,EAAgBpB,EAAhBoB,iBACAC,EAAkBrB,EAAlBqB,mBACeC,EAAUtB,EAAzB,eAIIuB,EAAeC,EAAO,MACtBC,EAAYC,EAAYzB,EAAKsB,GAEnCI,EAA4BC,EAASnB,GAAiBoB,EAAAC,EAAAH,EAAA,GAA/CI,EAAMF,EAAA,GAAEG,EAASH,EAAA,GAClBI,OAAsBC,IAATpB,EAAqBiB,EAASjB,EAK3CqB,EAAeC,GAAY,WAC/B,MAAwB,iBAAV9B,EACZ+B,EAACC,GAAQC,KAAMD,EAAQE,MAAMC,GAAIC,MAAOpC,EAAOC,UAAWoC,EAAGC,EAAOC,iBAEpEvC,CAEJ,GAAG,CAACA,IAEJ,OACE+B,EAAA,MAAAS,OAAAC,OAAA,CACE9C,IAAKwB,EACLlB,UAAWA,EACXM,GAAIA,gBACSS,GAAc0B,EAAUC,EAAuBC,gBAAiBrC,IAAG,CAAAX,SAEhFiD,EACE,MAAAL,OAAAC,OAAA,CAAAxC,UAAWoC,EACTC,EAAOQ,eAAcC,EAAAA,EAElBT,GAAAA,EAAO1B,WAAaA,GACpB0B,EAAOU,YAAcpC,GAExBG,IAGF,CAAAnB,SAAA,CAAAiD,EAAA,SAAAL,OAAAC,OAAA,CACER,KAAK,SACLhC,UAAWoC,EAAGC,EAAOW,OAAQX,EAAOY,QAASrC,EAAekC,EAAAA,EACzDT,CAAAA,EAAAA,EAAOa,WAAaxB,GACpBW,EAAOc,iBAAmBxC,IAE7ByC,eAAgB3C,GAlCH,WACnBgB,GAAWD,IAiCkC,gBACxBE,EAAU,gBAAA,GAAA2B,OACP/C,EAAE,cAEnB,CAAAX,SAAA,CAAiB,iBAAVI,GAAuC,IAAjBA,EAAMuD,OAChC1B,IACA/B,GAA2BA,IAC/BiC,EAACyB,EACC,CAAAvD,UAAWoC,EAAGC,EAAOmB,cAAaV,EAAAA,EAC/BT,CAAAA,EAAAA,EAAOoB,gBAAkB/B,GACzBW,EAAOqB,kBAAoBhC,IAE9BiC,SAAUJ,EAAKvB,KAAK4B,IACpBC,KAAMC,EACN1D,SAAUA,EACV2D,WAAW,QAGdrC,GACCI,EACE,MAAAS,OAAAC,OAAA,CAAAxC,UAAWoC,EAAGC,EAAO2B,QAAS3B,EAAOY,QAASpC,EAAgBiC,EAC3DT,CAAAA,EAAAA,EAAO4B,6BAA+BvC,IAEzCpB,GAAE+C,GAAAA,OAAK/C,EAAa,aACpB4D,KAAK,oBAEJvE,WAMb"}