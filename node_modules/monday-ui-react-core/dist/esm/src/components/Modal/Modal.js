import{slicedToArray as o,defineProperty as t}from"../../../_virtual/_rollupPluginBabelHelpers.js";import{jsx as e,jsxs as i}from"react/jsx-runtime";import r,{useMemo as a,useCallback as l,cloneElement as n}from"react";import s from"react-dom";import d from"classnames";import{useA11yDialog as c}from"./a11yDialog.js";import m from"./ModalContent/ModalContent.js";import u from"./ModalHeader/ModalHeader.js";import f from"./useBodyScrollLock.js";import p from"./useShowHideModal.js";import{ModalWidth as v,validateTitleProp as g,isModalHeader as j,isModalContent as y,isModalFooter as L}from"./ModalHelper.js";import{NOOP as h}from"../../utils/function-utils.js";import{withStaticProps as D}from"../../types/withStaticProps.js";import{getTestId as M}from"../../tests/testIds.js";import{ComponentDefaultTestId as A}from"../../tests/constants.js";import b from"./Modal.module.scss.js";var w=D((function(D){var w=D.classNames,C=void 0===w?{container:"",overlay:"",modal:""}:w,H=D.id,E=D.show,T=D.title,F=void 0===T?"":T,O=D.description,P=void 0===O?"":O,U=D.onClose,_=void 0===U?h:U,x=D.alertDialog,B=void 0!==x&&x,I=D.children,N=D.triggerElement,S=D.width,k=void 0===S?v.DEFAULT:S,z=D.closeButtonAriaLabel,W=void 0===z?"Close":z,R=D.contentSpacing,V=void 0!==R&&R,Y=D.zIndex,q=void 0===Y?1e4:Y,G=D["data-testid"],J=a((function(){return I?r.Children.toArray(I):[]}),[I]);g(F,J);var K=c({id:H,alertDialog:B}),Q=o(K,2),X=Q[0],Z=Q[1],$=l((function(){B||null==_||_()}),[B,_]);f({instance:X}),p({instance:X,show:E,triggerElement:N,onClose:_,alertDialog:B});var oo=a((function(){var o=Z.title.id,t=J.find(j);return t?n(t,{id:o,closeModal:_}):e(u,{title:F,description:P,closeModal:_,id:o,closeButtonAriaLabel:W})}),[Z.title,J,F,P,_,W]),to=a((function(){return J.find(y)||e(m,{children:J.filter((function(o){return!j(o)&&!L(o)}))})}),[J]),eo=a((function(){return J.find(L)||null}),[J]),io=k!==v.DEFAULT&&k!==v.FULL_WIDTH,ro=s.createPortal(i("div",Object.assign({},Z.container,{className:d(b.container,C.container),"data-testid":G||M(A.MODAL,H),style:{"--monday-modal-z-index":q}},{children:[e("div",{onClick:$,className:d(b.overlay,C.overlay),"data-testid":A.MODAL_OVERLAY}),i("div",Object.assign({},Z.dialog,{className:d(b.dialog,C.modal,t(t(t({},b.default,k===v.DEFAULT),b.full,k===v.FULL_WIDTH),b.spacing,V)),style:{width:io?k:null}},{children:[oo,to,eo]}))]})),document.body);return s.createPortal(ro,document.body)}),{width:v});export{w as default};
//# sourceMappingURL=Modal.js.map
