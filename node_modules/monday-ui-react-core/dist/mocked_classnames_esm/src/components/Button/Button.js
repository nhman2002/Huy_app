import{defineProperty as e}from"../../../_virtual/_rollupPluginBabelHelpers.js";import{forwardRef as o,useRef as t,useEffect as i,useCallback as n,useMemo as a,createElement as s}from"react";import{jsxs as r,Fragment as l,jsx as c}from"react/jsx-runtime";import{camelCase as u}from"lodash-es";import d from"classnames";import p from"../../hooks/useMergeRef.js";import{NOOP as m}from"../../utils/function-utils.js";import f from"../Icon/Icon.js";import b from"../Loader/Loader.js";import{ButtonType as g,ButtonColor as y,ButtonInputType as v,getActualSize as h,BUTTON_ICON_SIZE as I}from"./ButtonConstants.js";import{TRANSPARENT_COLOR as j,getParentBackgroundColorNotTransparent as O}from"./helper/dom-helpers.js";import{getTestId as C}from"../../tests/testIds.js";import{withStaticProps as N}from"../../types/withStaticProps.js";import{ComponentDefaultTestId as F}from"../../tests/constants.js";import{backwardCompatibilityForProperties as P}from"../../helpers/backwardCompatibilityForProperties.js";import{getStyle as T}from"../../helpers/typesciptCssModulesHelper.js";import k from"./Button.module.scss.js";import{useButtonLoading as M}from"./helper/useButtonLoading.js";import{SIZES as x}from"../../constants/sizes.js";var L=o((function(o,m){var v=o.className,j=o.children,N=o.kind,x=o.onClick,L=o.name,R=o.size,S=o.color,B=o.disabled,z=o.rightIcon,_=o.leftIcon,A=o.success,D=o.successText,U=o.successIcon,w=o.style,E=o.loading,H=o.active,Y=o.activeButtonClassName,G=o.id,V=o.marginRight,X=o.marginLeft,q=o.type,J=o.onMouseDown,K=o.ariaLabel,Q=o.rightFlat,W=o.leftFlat,Z=o.preventClickAnimation,$=o.noSidePadding,ee=o.onFocus,oe=o.onBlur,te=o.ariaLabeledBy,ie=o.defaultTextColorOnPrimaryColor,ne=o.ariaHasPopup,ae=o.ariaExpanded,se=o.ariaControls,re=o["aria-describedby"],le=o.blurOnMouseUp,ce=o.dataTestId,ue=o["data-testid"],de=o.insetFocus,pe=o.tabIndex,me=t(null),fe=p(m,me),be=M({isLoading:E}).loading,ge=P([ue,ce]);i((function(){if((S===y.ON_PRIMARY_COLOR||S===y.FIXED_LIGHT)&&N===g.PRIMARY&&me.current){var e=me.current;e.style.color=O(e,ie)}}),[N,me,S,ie]);var ye=n((function(){var e=me.current;!B&&e&&le&&e.blur()}),[B,me,le]),ve=n((function(e){B||be||A?e.preventDefault():x&&x(e)}),[x,B,be,A]),he=n((function(e){B||be||A?e.preventDefault():J&&J(e)}),[J,B,be,A]),Ie=a((function(){var o,t=A?y.POSITIVE:S;return d(v,k.button,T(k,u("size-"+h(R))),T(k,u("kind-"+N)),T(k,u("color-"+t)),(e(e(e(e(e(e(e(e(e(e(o={},k.loading,be),k.success,A),T(k,u("color-"+t+"-active")),H),Y,H),k.marginRight,V),k.marginLeft,X),k.rightFlat,Q),k.leftFlat,W),k.preventClickAnimation,Z),k.noSidePadding,$),e(e(o,k.disabled,B),k.insetFocusStyle,de)))}),[A,S,v,R,N,be,H,Y,V,X,Q,W,Z,$,B,de]),je=a((function(){return{ref:fe,type:q,className:Ie,name:L,onMouseUp:ye,style:w,onClick:ve,id:G,onFocus:ee,onBlur:oe,tabIndex:B?-1:pe,"data-testid":ge||C(F.BUTTON,G),onMouseDown:he,"aria-disabled":B,"aria-busy":be,"aria-labelledby":te,"aria-label":K,"aria-haspopup":ne,"aria-expanded":ae,"aria-controls":se,"aria-describedby":re}}),[fe,q,Ie,L,ye,w,ve,G,ee,oe,pe,ge,he,B,be,te,K,ne,ae,se,re]),Oe=a((function(){if("function"==typeof _)return I}),[_]),Ce=a((function(){if("function"==typeof z)return I}),[z]),Ne=a((function(){if("function"==typeof U)return I}),[U]),Fe=a((function(){return r(l,{children:[_?c(f,{iconType:null==f?void 0:f.type.ICON_FONT,clickable:!1,icon:_,iconSize:Oe,className:d(e({},k.leftIcon,!!j)),ignoreFocusStyle:!0}):null,j,z?c(f,{iconType:null==f?void 0:f.type.ICON_FONT,clickable:!1,icon:z,iconSize:Ce,className:d(e({},k.rightIcon,!!j)),ignoreFocusStyle:!0}):null]})}),[j,_,Oe,z,Ce]);return be?s("button",Object.assign({},je,{key:"".concat(G,"-loading")}),r("span",Object.assign({className:k.loader},{children:[c(b,{className:k.loaderSvg}),c("span",Object.assign({"aria-hidden":!0,className:k.textPlaceholder},{children:Fe}))]}))):A?s("button",Object.assign({},je,{key:"".concat(G,"-success")}),r("span",Object.assign({className:k.successContent},{children:[U?c(f,{iconType:null==f?void 0:f.type.ICON_FONT,clickable:!1,icon:U,iconSize:Ne,className:d(e({},k.leftIcon,!!D)),ignoreFocusStyle:!0}):null,D]})),c("span",Object.assign({"aria-hidden":"true",className:k.textPlaceholder},{children:Fe}))):s("button",Object.assign({},je,{key:"".concat(G,"-button")}),Fe)}));L.defaultProps={className:void 0,name:void 0,style:void 0,id:void 0,dataTestId:void 0,kind:g.PRIMARY,onClick:m,size:x.MEDIUM,color:y.PRIMARY,disabled:!1,rightIcon:null,leftIcon:null,success:!1,successText:"",successIcon:null,loading:!1,active:!1,marginRight:!1,marginLeft:!1,type:v.BUTTON,onMouseDown:m,rightFlat:!1,leftFlat:!1,preventClickAnimation:!1,noSidePadding:!1,onFocus:m,onBlur:m,defaultTextColorOnPrimaryColor:j,ariaHasPopup:void 0,blurOnMouseUp:!0,ariaExpanded:void 0,ariaControls:void 0,ariaLabel:void 0,ariaLabeledBy:void 0,insetFocus:!1};var R=N(L,{sizes:x,colors:y,kinds:g,types:v,inputTags:v});export{R as default};
//# sourceMappingURL=Button.js.map
