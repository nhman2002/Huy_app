import{toConsumableArray as o}from"../../../../../_virtual/_rollupPluginBabelHelpers.js";import{jsx as r,jsxs as e}from"react/jsx-runtime";import{difference as t,intersection as i}from"lodash-es";import{forwardRef as l,useRef as n,useCallback as s,useMemo as c}from"react";import{ColorStyle as a,contentColors as d}from"../../../../utils/colors-vars-map.js";import m from"../../../Icon/Icons/components/NoColor.js";import{ColorShapes as u,DEFAULT_NUMBER_OF_COLORS_IN_LINE as f}from"../../ColorPickerConstants.js";import{calculateColorPickerWidth as p}from"../../services/ColorPickerStyleService.js";import{useGridKeyboardNavigationContext as C,GridKeyboardNavigationContext as v}from"../../../GridKeyboardNavigationContext/GridKeyboardNavigationContext.js";import{ColorPickerClearButton as I}from"./ColorPickerClearButton.js";import{ColorPickerColorsGrid as h}from"./ColorPickerColorsGrid.js";import{withStaticProps as S}from"../../../../types/withStaticProps.js";import j from"../../../../hooks/useMergeRef.js";import{BaseSizes as y}from"../../../../constants/sizes.js";var b=S(l((function(l,S){var b=l.className,k=l.onValueChange,g=l.value,O=l.noColorText,R=l.colorStyle,x=void 0===R?a.REGULAR:R,L=l.ColorIndicatorIcon,N=l.SelectedIndicatorIcon,B=l.shouldRenderIndicatorWithoutBackground,M=l.NoColorIcon,P=void 0===M?m:M,E=l.isBlackListMode,w=void 0===E||E,z=l.colorsList,T=l.isMultiselect,G=l.colorSize,U=void 0===G?y.MEDIUM:G,A=l.numberOfColorsInLine,_=void 0===A?f:A,K=l.tooltipContentByColor,W=void 0===K?{}:K,D=l.focusOnMount,H=l.colorShape,Q=void 0===H?u.SQUARE:H,V=l.forceUseRawColorList,Y=l.showColorNameTooltip,q=l.id,F=l["data-testid"],J=n(null),X=j(S,J),Z=n(null),$=n(null),oo=s((function(){k(null)}),[k]),ro=c((function(){return V?z:w?t(d,z):i(d,z)}),[V,w,z]),eo=s((function(r){if(T){var e=o(g);if(e.includes(r)){var t=e.indexOf(r);t>-1&&e.splice(t,1)}else e.push(r);k(e)}else k([r])}),[T,k,g]),to=c((function(){return[{topElement:Z,bottomElement:$}]}),[]),io=C(to,J),lo=p(U,_);return r("div",Object.assign({className:b,style:{width:lo},ref:X,tabIndex:-1},{children:e(v.Provider,Object.assign({value:io},{children:[r(h,{ref:Z,onColorClicked:eo,colorsToRender:ro,numberOfColorsInLine:_,focusOnMount:D,value:g,colorStyle:x,ColorIndicatorIcon:L,shouldRenderIndicatorWithoutBackground:B,SelectedIndicatorIcon:N,colorSize:U,tooltipContentByColor:W,colorShape:Q,showColorNameTooltip:Y&&!V,id:q,"data-testid":F}),O&&r(I,{Icon:P,onClick:oo,text:O,ref:$})]}))}))})),{COLOR_STYLES:a,sizes:y,colorStyles:a,colorSizes:y,colorShapes:u});export{b as default};
//# sourceMappingURL=ColorPickerContent.js.map
