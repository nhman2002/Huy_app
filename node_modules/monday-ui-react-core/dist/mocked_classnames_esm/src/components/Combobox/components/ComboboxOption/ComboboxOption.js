import{defineProperty as o}from"../../../../../_virtual/_rollupPluginBabelHelpers.js";import{jsxs as e,Fragment as i,jsx as t}from"react/jsx-runtime";import n from"classnames";import{useRef as r,useEffect as l,useCallback as s,useMemo as c}from"react";import a from"../../../Icon/Icon.js";import p from"../../../Tooltip/Tooltip.js";import m from"../../../../hooks/useIsOverflowing/useIsOverflowing.js";import{keyCodes as f}from"../../../../constants/keyCodes.js";import{getOptionId as u}from"../../helpers.js";import{withStaticProps as d}from"../../../../types/withStaticProps.js";import{ComboboxOptionIconType as v}from"../ComboboxConstants.js";import{getTestId as b,ComponentDefaultTestId as O}from"../../../../tests/testIds.js";import h from"./ComboboxOption.module.scss.js";var j=d((function(d){var j=d.index,y=d.option,I=d.className,g=d.isActive,T=d.visualFocus,C=d.scrollRef,N=d.scrollOffset,k=void 0===N?100:N,E=d.onOptionClick,x=d.onOptionLeave,R=d.onOptionHover,S=d.optionLineHeight,w=d.shouldScrollWhenActive,L=void 0===w||w,P=d.optionRenderer,_=void 0===P?null:P,A=y.id,B=y.leftIcon,F=y.leftIconType,H=y.rightIcon,M=y.rightIconType,z=y.label,D=y.iconSize,K=void 0===D?18:D,V=y.disabled,W=y.selected,X=y.ariaLabel,q=y.belongToCategory,G=void 0!==q&&q,J=y.tooltipContent,Q=r(null),U=r(),Y=m({ref:U});l((function(){var o,e=Q.current;T&&e&&L&&((null==C?void 0:C.current)&&e?C.current.scrollTop=e.offsetTop-k:null===(o=null==e?void 0:e.scrollIntoView)||void 0===o||o.call(e,{behaviour:"smooth"}))}),[Q,T,L,C,k,G]);var Z=function(o,e,i){return e===v.RENDERER?o(n(h.optionIcon,i)):t(a,{className:n(h.optionIcon,i),iconType:a.type.ICON_FONT,clickable:!1,icon:o,iconSize:K,ignoreFocusStyle:!0})},$=s((function(o){E(o,j,y,!0)}),[j,y,E]),oo=s((function(o){V||x(o,j,y,!0)}),[j,y,x,V]),eo=s((function(o){V||R(o,j,y,!0)}),[j,y,R,V]),io=s((function(o){o.key!==f.ENTER&&o.key!==f.SPACE||E(o,j,y,!1)}),[E,j,y]);J||(J=Y?z:null);var to=c((function(){return _&&_(y)}),[_,y]),no=e(i,{children:[B&&Z(B,F,h.left),t("div",Object.assign({ref:U,className:n(h.optionLabel)},{children:z})),H&&Z(H,M,"")]});return t(p,Object.assign({content:J},{children:t("div",Object.assign({ref:Q,"aria-level":G?2:1,"aria-selected":g,"aria-label":X||z,id:u(A,j),"data-testid":b(O.COMBOBOX_OPTION,j),onMouseEnter:eo,onClick:$,onKeyDown:io,onMouseLeave:oo,className:n(h.comboboxOption,I,o(o(o(o({},h.disabled,V),h.selected,W),h.active,g),h.activeOutline,T)),style:{height:S}},{children:to||no}),A||z)}))}),{iconTypes:v});export{j as default};
//# sourceMappingURL=ComboboxOption.js.map
