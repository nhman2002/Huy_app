import{slicedToArray as i,defineProperty as e}from"../../../_virtual/_rollupPluginBabelHelpers.js";import{jsx as s}from"react/jsx-runtime";import{camelCase as t}from"lodash-es";import{getTestId as o,ComponentDefaultTestId as r}from"../../tests/testIds.js";import l from"classnames";import n,{useLayoutEffect as p}from"react";import a from"../Tooltip/Tooltip.js";import m from"../../hooks/useIsOverflowing/useIsOverflowing.js";import d from"../../hooks/useStyle.js";import u from"../../hooks/useRefWithCallback.js";import f from"../TextWithHighlight/TextWithHighlight.js";import{HeadingTypes as c,HeadingSizes as g}from"./LegacyHeadingConstants.js";import{withStaticProps as h}from"../../types/withStaticProps.js";import v from"./LegacyHeading.module.scss.js";import{getStyle as y}from"../../helpers/typesciptCssModulesHelper.js";import{Sizes as j}from"../../constants/sizes.js";var E=h((function(h){var j=h.className,E=h.value,H=void 0===E?"":E,T=h.type,L=void 0===T?c.h1:T,P=h.size,x=void 0===P?g.LARGE:P,C=h.ariaLabel,O=void 0===C?"":C,b=h.id,k=h.customColor,w=h.ellipsis,z=void 0===w||w,I=h.ellipsisMaxLines,A=void 0===I?1:I,N=h.style,W=h.tooltipPosition,G=h.highlightTerm,M=void 0===G?null:G,R=h.suggestEditOnHover,S=void 0!==R&&R,_=h.nonEllipsisTooltip,B=void 0===_?null:_,D=h["data-testid"],q=u((function(i){return i.style.setProperty("--heading-clamp-lines",""+A)})),F=i(q,2),J=F[0],K=F[1],Q=d(N,{color:k}),U=l(v.headingComponent,j,y(v,t("element-type-"+L)),y(v,t("size-"+x)),e(e(e({},v.multiLineEllipsis,z&&A>1),v.singleLineEllipsis,z&&1>=A),v.suggestEditOnHover,S)),V=n.createElement(L,{className:U,"aria-label":O,id:b,"data-testid":D||o(r.HEADING,b),ref:K,style:Q},M?s(f,{highlightTerm:M,text:H,linesToClamp:A,useEllipsis:z,nonEllipsisTooltip:B,tooltipPosition:W}):H),X=m({ref:z?J:null,ignoreHeightOverflow:!0});if((p((function(){J.current&&J.current.style.setProperty("--heading-clamp-lines",null==A?void 0:""+A)}),[J,A,X]),!M)&&(X||B))return s(a,Object.assign({content:X?H:B,position:W},{children:V}));return V}),{types:c,sizes:j});export{E as default};
//# sourceMappingURL=LegacyHeading.js.map
