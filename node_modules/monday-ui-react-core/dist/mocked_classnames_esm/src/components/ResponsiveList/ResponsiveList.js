import{extends as e}from"../../../_virtual/_rollupPluginBabelHelpers.js";import t from"classnames";import n,{forwardRef as s,useRef as a,useMemo as o}from"react";import"prop-types";import r from"../../hooks/useMergeRef.js";import i from"../MenuButton/MenuButton.js";import l from"../../hooks/useElementsOverflowingIndex.js";import{getTestId as m,ComponentDefaultTestId as u}from"../../tests/testIds.js";import p from"./ResponsiveList.module.scss.js";var d=[],c=s((function(s,c){var f=s.id,N=s.className,v=s.rootClassName,g=s.children,B=s.menuButtonSize,C=s.paddingSize,z=s.dialogZIndex,L=s.dialogClassName,S=s.menuButtonClassName,h=s.menuWrapperClassName,E=s.resizeDebounceTime,x=s.menuButtonAriaLabel,b=s.menuButtonProps,I=s["data-testid"],A=a(null),D=r(c,A),M=l({ref:A,children:g,paddingSize:C,resizeDebounceTime:E,ignoreLast:!0}),j=o((function(){return-1===M?g:n.Children.toArray(g).slice(0,M)}),[g,M]),P=o((function(){if(-1===M)return d;var e=n.Children.toArray(g);return e.slice(M,e.length)}),[g,M]),y=o((function(){return n.Children.toArray(g).map((function(e){var t;return(null==e||null===(t=e.props)||void 0===t?void 0:t.responsiveListPlaceholder)||e}))}),[g]);return n.createElement("div",{className:t(p.responsiveListRoot,v),id:f,"data-testid":I||m(u.RESPONSIVE_LIST,f)},null!==M&&n.createElement("div",{className:t(p.responsiveList,N)},j,!!P.length&&n.createElement(i,e({componentClassName:t(p.listMenuButton,S),size:B,openDialogComponentClassName:t(p.menuButtonDialog,L),zIndex:z,ariaLabel:x},b),n.createElement("div",{className:t(p.menuWrapperFlex,h)},P))),n.createElement("div",{ref:D,className:t(p.responsiveList,p.dummy,N)},y,n.createElement(i,e({componentClassName:t(p.listMenuButton,S),size:B,openDialogComponentClassName:t(p.menuButtonDialog,L),zIndex:z,ariaLabel:x},b),n.createElement("div",{className:t(p.menuWrapperFlex,h)}))))}));c.menuButtonSizes=i.sizes,c.defaultProps={id:"",className:"",dialogClassName:"",menuButtonClassName:"",menuWrapperClassName:"",rootClassName:"",menuButtonAriaLabel:"More Actions",menuButtonProps:{},menuButtonSize:c.menuButtonSizes.SMALL,paddingSize:32,dialogZIndex:9999,resizeDebounceTime:0};var f=c;export{f as default};
//# sourceMappingURL=ResponsiveList.js.map
