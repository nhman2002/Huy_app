{"version":3,"file":"StepsCommand.js","sources":["../../../../../src/components/Steps/StepsCommand.tsx"],"sourcesContent":["import React, { FC, useCallback, useMemo } from \"react\";\nimport cx from \"classnames\";\nimport NavigationChevronRight from \"../../components/Icon/Icons/components/NavigationChevronRight\";\nimport NavigationChevronLeft from \"../../components/Icon/Icons/components/NavigationChevronLeft\";\nimport Icon from \"../../components/Icon/Icon\";\nimport Button, { ButtonProps } from \"../../components/Button/Button\";\nimport { NOOP } from \"../../utils/function-utils\";\nimport { BACK_TEXT, NEXT_TEXT } from \"./StepsConstants\";\nimport VibeComponentProps from \"../../types/VibeComponentProps\";\nimport { ComponentDefaultTestId } from \"../../tests/constants\";\nimport styles from \"./StepsCommand.module.scss\";\n\nexport interface StepsCommandProps extends VibeComponentProps {\n  isNext?: boolean;\n  onChangeActiveStep?: (e: React.MouseEvent, newStepIndex: number) => void;\n  activeStepIndex: number;\n  stepsCount: number;\n  isIconHidden?: boolean;\n  buttonProps?: ButtonProps;\n  isOnPrimary?: boolean;\n}\n\nexport const StepsCommand: FC<StepsCommandProps> = ({\n  isNext = false,\n  onChangeActiveStep = NOOP,\n  activeStepIndex,\n  stepsCount,\n  isIconHidden = false,\n  isOnPrimary = false,\n  buttonProps = {}\n}) => {\n  const { children: buttonChildren, ...otherButtonProps } = buttonProps;\n  const description = useMemo(() => {\n    if (buttonChildren) return buttonChildren;\n    return isNext ? NEXT_TEXT : BACK_TEXT;\n  }, [isNext, buttonChildren]);\n  const buttonBaseColor = isOnPrimary ? Button.colors.ON_PRIMARY_COLOR : undefined;\n  const newStepIndex = isNext ? activeStepIndex + 1 : activeStepIndex - 1;\n  const onClick = useCallback(\n    (e: React.MouseEvent) => onChangeActiveStep(e, newStepIndex),\n    [newStepIndex, onChangeActiveStep]\n  );\n  const isDisabled = (isNext && activeStepIndex === stepsCount - 1) || (!isNext && activeStepIndex === 0);\n\n  const icon = isNext ? NavigationChevronRight : NavigationChevronLeft;\n  return (\n    <Button\n      className={cx(styles.command, { [styles.backward]: !isNext })}\n      data-testid={\n        isNext ? ComponentDefaultTestId.STEPS_FORWARD_COMMAND : ComponentDefaultTestId.STEPS_BACKWARD_COMMAND\n      }\n      kind={Button.kinds.TERTIARY}\n      onClick={onClick}\n      disabled={isDisabled}\n      color={buttonBaseColor}\n      {...otherButtonProps}\n    >\n      {description}\n      {isIconHidden ? null : (\n        <Icon\n          icon={icon}\n          clickable={false}\n          className={cx(styles.icon, {\n            [styles.disabled]: isDisabled,\n            [styles.onPrimary]: isOnPrimary\n          })}\n        />\n      )}\n    </Button>\n  );\n};\n"],"names":["StepsCommand","_ref","_ref$isNext","isNext","_ref$onChangeActiveSt","onChangeActiveStep","NOOP","activeStepIndex","stepsCount","_ref$isIconHidden","isIconHidden","_ref$isOnPrimary","isOnPrimary","_ref$buttonProps","buttonProps","buttonChildren","children","otherButtonProps","__rest","description","useMemo","NEXT_TEXT","BACK_TEXT","buttonBaseColor","Button","colors","ON_PRIMARY_COLOR","undefined","newStepIndex","onClick","useCallback","e","isDisabled","icon","NavigationChevronRight","NavigationChevronLeft","_jsxs","className","cx","styles","command","_defineProperty","backward","ComponentDefaultTestId","STEPS_FORWARD_COMMAND","STEPS_BACKWARD_COMMAND","kind","kinds","TERTIARY","disabled","color","_jsx","Icon","clickable","onPrimary"],"mappings":"8qBAsBaA,EAAsC,SAA1BC,GAQpB,IAAAC,EAAAD,EAPHE,OAAAA,OAAS,IAAHD,GAAQA,EAAAE,EAAAH,EACdI,mBAAAA,OAAqBC,IAAHF,EAAGE,EAAIF,EACzBG,EAAeN,EAAfM,gBACAC,EAAUP,EAAVO,WAAUC,EAAAR,EACVS,aAAAA,OAAe,IAAHD,GAAQA,EAAAE,EAAAV,EACpBW,YAAAA,OAAc,IAAHD,GAAQA,EAAAE,EAAAZ,EACnBa,YAAAA,OAAW,IAAAD,EAAG,CAAA,EAAEA,EAEEE,EAAwCD,EAAlDE,SAA6BC,EAAqBC,EAAAJ,EAApD,CAAA,aACAK,EAAcC,GAAQ,WAC1B,OAAIL,IACGZ,EAASkB,EAAYC,EAC9B,GAAG,CAACnB,EAAQY,IACNQ,EAAkBX,EAAcY,EAAOC,OAAOC,sBAAmBC,EACjEC,EAAezB,EAASI,EAAkB,EAAIA,EAAkB,EAChEsB,EAAUC,GACd,SAACC,GAAmB,OAAK1B,EAAmB0B,EAAGH,EAAa,GAC5D,CAACA,EAAcvB,IAEX2B,EAAc7B,GAAUI,IAAoBC,EAAa,IAAQL,GAA8B,IAApBI,EAE3E0B,EAAO9B,EAAS+B,EAAyBC,EAC/C,OACEC,EAACZ,iBACCa,UAAWC,EAAGC,EAAOC,QAAOC,EAAKF,CAAAA,EAAAA,EAAOG,UAAYvC,kBAElDA,EAASwC,EAAuBC,sBAAwBD,EAAuBE,uBAEjFC,KAAMtB,EAAOuB,MAAMC,SACnBnB,QAASA,EACToB,SAAUjB,EACVkB,MAAO3B,GACHN,EAEH,CAAAD,SAAA,CAAAG,EACAT,EAAe,KACdyC,EAACC,GACCnB,KAAMA,EACNoB,WAAW,EACXhB,UAAWC,EAAGC,EAAON,KAAIQ,EAAAA,EAAA,CAAA,EACtBF,EAAOU,SAAWjB,GAClBO,EAAOe,UAAY1C,SAMhC"}