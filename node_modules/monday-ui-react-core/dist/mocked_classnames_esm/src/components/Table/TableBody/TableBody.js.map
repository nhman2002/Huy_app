{"version":3,"file":"TableBody.js","sources":["../../../../../../src/components/Table/TableBody/TableBody.tsx"],"sourcesContent":["import React, { ReactElement, ComponentProps, useContext, forwardRef } from \"react\";\nimport cx from \"classnames\";\nimport { VibeComponent, VibeComponentProps } from \"../../../types\";\nimport TableRow, { ITableRowProps } from \"../TableRow/TableRow\";\nimport VirtualizedList from \"../../VirtualizedList/VirtualizedList\";\nimport styles from \"./TableBody.module.scss\";\nimport { TableContext } from \"../Table/Table\";\nimport TableCellSkeleton from \"../TableCellSkeleton/TableCellSkeleton\";\nimport { SKELETON_ROWS_AMOUNT } from \"../Table/TableConsts\";\nimport { getLoadingTypeForCell } from \"../Table/tableHelpers\";\nimport { getTestId } from \"../../../tests/test-ids-utils\";\nimport { ComponentDefaultTestId } from \"../../../tests/constants\";\n\nexport interface ITableBodyProps extends VibeComponentProps {\n  children?:\n    | ReactElement<ITableRowProps>\n    | ReactElement<ITableRowProps>[]\n    | ReactElement<ComponentProps<typeof VirtualizedList>>;\n}\n\nconst TableBody: VibeComponent<ITableBodyProps, HTMLDivElement> = forwardRef(\n  ({ id, className, \"data-testid\": dataTestId, children }, ref) => {\n    const { dataState, emptyState, errorState, columns } = useContext(TableContext);\n    const { isLoading, isError } = dataState || {};\n\n    const skeletonRender = [...new Array(SKELETON_ROWS_AMOUNT)].map((_, rowIndex) => (\n      <TableRow key={rowIndex}>\n        {columns.map(({ loadingStateType }, columnIndex) => (\n          <TableCellSkeleton\n            key={`${rowIndex}-${columnIndex}`}\n            type={getLoadingTypeForCell(loadingStateType, rowIndex)}\n          />\n        ))}\n      </TableRow>\n    ));\n\n    return (\n      <div\n        ref={ref}\n        id={id}\n        className={cx(styles.tableBody, className)}\n        data-testid={dataTestId || getTestId(ComponentDefaultTestId.TABLE_BODY, id)}\n        role=\"rowgroup\"\n      >\n        {isLoading\n          ? skeletonRender\n          : isError\n          ? errorState\n          : !children || (Array.isArray(children) && children.length === 0)\n          ? emptyState\n          : children}\n      </div>\n    );\n  }\n);\n\nexport default TableBody;\n"],"names":["TableBody$1","forwardRef","_ref","ref","id","className","dataTestId","children","_useContext","useContext","TableContext","emptyState","errorState","columns","_ref2","dataState","isLoading","isError","skeletonRender","_toConsumableArray","Array","SKELETON_ROWS_AMOUNT","map","_","rowIndex","_jsx","TableRow","_ref3","columnIndex","TableCellSkeleton","type","getLoadingTypeForCell","loadingStateType","concat","Object","assign","cx","styles","tableBody","getTestId","ComponentDefaultTestId","TABLE_BODY","role","isArray","length"],"mappings":"ioBAoBA,IAoCAA,EApCkEC,GAChE,SAAAC,EAAyDC,GAAO,IAA7DC,EAAEF,EAAFE,GAAIC,EAASH,EAATG,UAA0BC,EAAUJ,EAAzB,eAA2BK,EAAQL,EAARK,SAC3CC,EAAuDC,EAAWC,GAA/CC,EAAUH,EAAVG,WAAYC,EAAUJ,EAAVI,WAAYC,EAAOL,EAAPK,QAC3CC,EADiBN,EAATO,WACoC,CAAE,EAAtCC,EAASF,EAATE,UAAWC,EAAOH,EAAPG,QAEbC,EAAiBC,EAAQC,MAAMC,IAAuBC,KAAI,SAACC,EAAGC,GAAQ,OAC1EC,EAACC,EAAQ,CAAAnB,SACNM,EAAQS,KAAI,SAAAK,EAAuBC,GAAJ,OAC9BH,EAACI,EAAiB,CAEhBC,KAAMC,EAHsBJ,EAAhBK,iBAGkCR,IAAS,GAAAS,OAD/CT,OAAQS,OAAIL,QAHXJ,EAOJ,IAGb,OACEC,EACE,MAAAS,OAAAC,OAAA,CAAAhC,IAAKA,EACLC,GAAIA,EACJC,UAAW+B,EAAGC,EAAOC,UAAWjC,iBACnBC,GAAciC,EAAUC,EAAuBC,WAAYrC,GACxEsC,KAAK,sBAEJ1B,EACGE,EACAD,EACAL,GACCL,GAAaa,MAAMuB,QAAQpC,IAAiC,IAApBA,EAASqC,OAClDjC,EACAJ,IAGV"}