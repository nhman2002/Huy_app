{"version":3,"file":"textManipulations.js","sources":["../../../../src/helpers/textManipulations.ts"],"sourcesContent":["import { convertToArray } from \"../utils/function-utils\";\n\nconst MIN_PRECISION = 0;\nconst MAX_PRECISION = 20;\nconst DEFAULT_LOCAL = \"en-US\";\n\nfunction validateLocalSupported(local: string) {\n  let isLocalSupported;\n  try {\n    const options = { localeMatcher: \"lookup\" };\n    isLocalSupported = !!Intl.NumberFormat.supportedLocalesOf(convertToArray(local), options).length;\n  } catch (err) {\n    isLocalSupported = false;\n  }\n\n  return isLocalSupported;\n}\n\nfunction validatePrecision(precision: number) {\n  if (precision < MIN_PRECISION) return MIN_PRECISION;\n  if (precision > MAX_PRECISION) return MAX_PRECISION;\n  return precision;\n}\n\nexport const formatNumberConsts = Object.freeze({\n  MIN_PRECISION,\n  MAX_PRECISION,\n  DEFAULT_LOCAL\n});\n\nexport function formatNumber(\n  value: number,\n  {\n    local = DEFAULT_LOCAL,\n    isCompact = true,\n    precision = 2\n  }: { local?: Intl.Locale[\"language\"]; isCompact?: boolean; precision?: number } = {}\n) {\n  if (value === undefined || value === null) return;\n  const isLocalSupported = validateLocalSupported(local);\n  const normalizedPrecision = validatePrecision(precision);\n  const selectedLocal = isLocalSupported ? local : DEFAULT_LOCAL;\n  return new Intl.NumberFormat(selectedLocal, {\n    ...(isCompact && { notation: \"compact\" }),\n    maximumFractionDigits: normalizedPrecision\n  }).format(value);\n}\n"],"names":["validateLocalSupported","local","isLocalSupported","Intl","NumberFormat","supportedLocalesOf","convertToArray","localeMatcher","length","err","validatePrecision","precision","formatNumberConsts","Object","freeze","MIN_PRECISION","MAX_PRECISION","DEFAULT_LOCAL","formatNumber","value","_ref","arguments","undefined","_ref$local","_ref$isCompact","isCompact","_ref$precision","normalizedPrecision","selectedLocal","assign","notation","maximumFractionDigits","format"],"mappings":"4DAMA,SAASA,EAAuBC,GAC9B,IAAIC,EACJ,IAEEA,IAAqBC,KAAKC,aAAaC,mBAAmBC,EAAeL,GADzD,CAAEM,cAAe,WACyDC,MAG3F,CAFC,MAAOC,GACPP,GAAmB,CACpB,CAED,OAAOA,CACT,CAEA,SAASQ,EAAkBC,GACzB,OAjBoB,EAiBhBA,EAjBgB,EAkBhBA,EAjBgB,MAkBbA,CACT,KAEaC,EAAqBC,OAAOC,OAAO,CAC9CC,cAvBoB,EAwBpBC,cAvBoB,GAwBpBC,cAvBoB,mBA0BNC,EACdC,GAKoF,IAAAC,EAAAC,UAAAb,OAAA,QAAAc,IAAAD,UAAA,GAAAA,UAAA,GAAF,CAAE,EAAAE,EAAAH,EAHlFnB,MAAAA,OAAQgB,IAAHM,EA7Ba,QA6BGA,EAAAC,EAAAJ,EACrBK,UAAAA,OAAY,IAAHD,GAAOA,EAAAE,EAAAN,EAChBT,UAAAA,OAAY,IAAHe,EAAG,EAACA,EAGf,GAAIP,QAAJ,CACA,IAAMjB,EAAmBF,EAAuBC,GAC1C0B,EAAsBjB,EAAkBC,GACxCiB,EAAgB1B,EAAmBD,EArCrB,QAsCpB,OAAO,IAAIE,KAAKC,aAAawB,EAAaf,OAAAgB,OAAAhB,OAAAgB,OAAA,CAAA,EACpCJ,GAAa,CAAEK,SAAU,YAC7B,CAAAC,sBAAuBJ,KACtBK,OAAOb,EAPiC,CAQ7C"}